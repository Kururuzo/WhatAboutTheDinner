2020-05-05 11:11:34,796 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-05 11:11:34,845 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6b3e12b5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5aac4250, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1338fb5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@42463763, org.springframework.test.context.transaction.TransactionalTestExecutionListener@59f63e24, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61f05988, org.springframework.test.context.event.EventPublishingTestExecutionListener@7ca33c24]
2020-05-05 11:11:36,148 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-05 11:11:36,472 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 293ms. Found 5 JPA repository interfaces.
2020-05-05 11:11:37,506 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-05 11:11:37,800 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-05 11:11:38,224 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-05 11:11:39,849 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-05 11:11:40,804 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-05 11:11:42,164 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-05 11:11:42,188 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-05 11:11:45,052 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-05 11:11:45,240 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:11:45,241 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:11:45,270 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 29 ms
2020-05-05 11:11:45,303 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7ae6927 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@7d0df326, testMethod = delete@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c7cf8c4]; rollback [true]
2020-05-05 11:11:45,402 INFO  r.r.web.controller.RestaurantRestController.delete:66 - delete dish 100013
2020-05-05 11:11:45,506 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7ae6927 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@7d0df326, testMethod = delete@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:11:45,515 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:11:45,516 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:11:45,518 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 1 ms
2020-05-05 11:11:45,522 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7ae6927 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@5b028f58, testMethod = getAll@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c7cf8c4]; rollback [true]
2020-05-05 11:11:45,525 INFO  r.r.web.controller.RestaurantRestController.getAll:39 - getAll
2020-05-05 11:11:45,784 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.doResolveException:235 - Failure while trying to resolve exception [org.springframework.http.converter.HttpMessageNotWritableException]
java.lang.IllegalStateException: Cannot set error status - response is already committed
	at org.springframework.util.Assert.state(Assert.java:73)
	at org.springframework.mock.web.MockHttpServletResponse.sendError(MockHttpServletResponse.java:541)
	at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.sendServerError(DefaultHandlerExceptionResolver.java:550)
	at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.handleHttpMessageNotWritable(DefaultHandlerExceptionResolver.java:440)
	at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.doResolveException(DefaultHandlerExceptionResolver.java:210)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1300)
	at org.springframework.test.web.servlet.TestDispatcherServlet.processHandlerException(TestDispatcherServlet.java:143)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1111)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)
	at ru.restaurant.web.AbstractControllerTest.perform(AbstractControllerTest.java:48)
	at ru.restaurant.web.controller.RestaurantRestControllerTest.getAll(RestaurantRestControllerTest.java:42)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
2020-05-05 11:11:45,794 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7ae6927 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@5b028f58, testMethod = getAll@RestaurantRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion (StackOverflowError) (through reference chain: ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]), mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:11:45,899 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:11:45,901 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:11:45,905 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 3 ms
2020-05-05 11:11:45,914 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7ae6927 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@5036a286, testMethod = update@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c7cf8c4]; rollback [true]
2020-05-05 11:11:46,048 INFO  r.r.web.controller.RestaurantRestController.update:58 - update Restaurant:100013(Updated)
2020-05-05 11:11:46,396 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7ae6927 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@5036a286, testMethod = update@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:11:46,398 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:11:46,399 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:11:46,401 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 2 ms
2020-05-05 11:11:46,405 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7ae6927 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@2681185e, testMethod = get@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c7cf8c4]; rollback [true]
2020-05-05 11:11:46,410 INFO  r.r.web.controller.RestaurantRestController.get:33 - get restaurant with id=100013
2020-05-05 11:11:46,434 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.doResolveException:235 - Failure while trying to resolve exception [org.springframework.http.converter.HttpMessageNotWritableException]
java.lang.IllegalStateException: Cannot set error status - response is already committed
	at org.springframework.util.Assert.state(Assert.java:73)
	at org.springframework.mock.web.MockHttpServletResponse.sendError(MockHttpServletResponse.java:541)
	at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.sendServerError(DefaultHandlerExceptionResolver.java:550)
	at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.handleHttpMessageNotWritable(DefaultHandlerExceptionResolver.java:440)
	at org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver.doResolveException(DefaultHandlerExceptionResolver.java:210)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1300)
	at org.springframework.test.web.servlet.TestDispatcherServlet.processHandlerException(TestDispatcherServlet.java:143)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1111)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:167)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)
	at ru.restaurant.web.AbstractControllerTest.perform(AbstractControllerTest.java:48)
	at ru.restaurant.web.controller.RestaurantRestControllerTest.get(RestaurantRestControllerTest.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)
	at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)
	at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
2020-05-05 11:11:46,438 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7ae6927 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@2681185e, testMethod = get@RestaurantRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion (StackOverflowError) (through reference chain: ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]->org.hibernate.collection.internal.PersistentSet[0]->ru.restaurant.model.Menu["restaurant"]->ru.restaurant.model.Restaurant["menus"]), mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:11:46,507 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:11:46,508 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:11:46,511 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 2 ms
2020-05-05 11:11:46,515 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7ae6927 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@524dd373, testMethod = createWithLocation@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c7cf8c4]; rollback [true]
2020-05-05 11:11:46,519 INFO  r.r.web.controller.RestaurantRestController.createWithLocation:45 - create dish=Restaurant:null(New)
2020-05-05 11:11:46,558 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7ae6927 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@524dd373, testMethod = createWithLocation@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:11:46,574 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-05 11:14:53,920 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-05 11:14:53,951 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6b3e12b5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5aac4250, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1338fb5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@42463763, org.springframework.test.context.transaction.TransactionalTestExecutionListener@59f63e24, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61f05988, org.springframework.test.context.event.EventPublishingTestExecutionListener@7ca33c24]
2020-05-05 11:14:54,772 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-05 11:14:54,918 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 125ms. Found 5 JPA repository interfaces.
2020-05-05 11:14:55,499 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-05 11:14:55,600 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-05 11:14:55,804 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-05 11:14:56,604 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-05 11:14:57,094 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-05 11:14:57,869 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-05 11:14:57,881 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-05 11:14:59,447 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-05 11:14:59,602 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:14:59,603 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:14:59,625 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 21 ms
2020-05-05 11:14:59,648 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1dac0784 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@3703a400, testMethod = delete@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22105c76 testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@58ad0586]; rollback [true]
2020-05-05 11:14:59,728 INFO  r.r.web.controller.RestaurantRestController.delete:66 - delete dish 100013
2020-05-05 11:14:59,820 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1dac0784 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@3703a400, testMethod = delete@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22105c76 testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:14:59,830 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:14:59,831 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:14:59,835 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 3 ms
2020-05-05 11:14:59,840 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1dac0784 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@52fec840, testMethod = getAll@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22105c76 testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@58ad0586]; rollback [true]
2020-05-05 11:14:59,843 INFO  r.r.web.controller.RestaurantRestController.getAll:39 - getAll
2020-05-05 11:15:00,124 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1dac0784 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@52fec840, testMethod = getAll@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22105c76 testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:15:00,127 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:15:00,128 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:15:00,132 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 3 ms
2020-05-05 11:15:00,136 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1dac0784 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@544300a6, testMethod = update@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22105c76 testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@58ad0586]; rollback [true]
2020-05-05 11:15:00,165 INFO  r.r.web.controller.RestaurantRestController.update:58 - update Restaurant:100013(Updated)
2020-05-05 11:15:00,242 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1dac0784 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@544300a6, testMethod = update@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22105c76 testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:15:00,243 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:15:00,244 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:15:00,246 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 2 ms
2020-05-05 11:15:00,249 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1dac0784 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@448fa659, testMethod = get@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22105c76 testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@58ad0586]; rollback [true]
2020-05-05 11:15:00,252 INFO  r.r.web.controller.RestaurantRestController.get:33 - get restaurant with id=100013
2020-05-05 11:15:00,268 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1dac0784 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@448fa659, testMethod = get@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22105c76 testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:15:00,270 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:15:00,271 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:15:00,273 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 1 ms
2020-05-05 11:15:00,277 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1dac0784 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@3fc051ce, testMethod = createWithLocation@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22105c76 testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@58ad0586]; rollback [true]
2020-05-05 11:15:00,281 INFO  r.r.web.controller.RestaurantRestController.createWithLocation:45 - create dish=Restaurant:null(New)
2020-05-05 11:15:00,308 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1dac0784 testClass = RestaurantRestControllerTest, testInstance = ru.restaurant.web.controller.RestaurantRestControllerTest@3fc051ce, testMethod = createWithLocation@RestaurantRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@22105c76 testClass = RestaurantRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:15:00,324 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-05 11:15:21,102 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-05 11:15:21,134 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@42463763, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59f63e24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@61f05988, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca33c24, org.springframework.test.context.event.EventPublishingTestExecutionListener@fade1fc]
2020-05-05 11:15:22,245 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-05 11:15:22,457 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 160ms. Found 5 JPA repository interfaces.
2020-05-05 11:15:23,318 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-05 11:15:23,466 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-05 11:15:23,675 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-05 11:15:24,559 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-05 11:15:25,107 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-05 11:15:25,826 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-05 11:15:25,840 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-05 11:15:28,789 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-05 11:15:29,010 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:15:29,011 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:15:29,048 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 35 ms
2020-05-05 11:15:29,084 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@12765ebd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1dac0784, testMethod = delete@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3703a400 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@564d3940]; rollback [true]
2020-05-05 11:15:29,205 INFO  ru.restaurant.web.controller.MenuRestController.delete:81 - delete menu 100016
2020-05-05 11:15:29,351 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@12765ebd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1dac0784, testMethod = delete@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3703a400 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:15:29,369 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:15:29,371 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:15:29,376 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 4 ms
2020-05-05 11:15:29,382 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@12765ebd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1d3e5a05, testMethod = getAll@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3703a400 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@564d3940]; rollback [true]
2020-05-05 11:15:29,387 INFO  ru.restaurant.web.controller.MenuRestController.getAll:47 - get all menus
2020-05-05 11:15:29,948 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@12765ebd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1d3e5a05, testMethod = getAll@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3703a400 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:15:29,952 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:15:29,953 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:15:29,959 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 5 ms
2020-05-05 11:15:29,964 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@12765ebd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@7de43652, testMethod = getAllByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3703a400 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@564d3940]; rollback [true]
2020-05-05 11:15:30,003 INFO  ru.restaurant.web.controller.MenuRestController.getByDate:53 - get menus by date 2020-04-01
2020-05-05 11:15:30,038 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@12765ebd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@7de43652, testMethod = getAllByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3703a400 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:15:30,041 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:15:30,042 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:15:30,046 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 3 ms
2020-05-05 11:15:30,052 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@12765ebd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@4601a148, testMethod = update@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3703a400 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@564d3940]; rollback [true]
2020-05-05 11:15:30,088 INFO  ru.restaurant.web.controller.MenuRestController.update:73 - update Menu:100016 with id=100016
2020-05-05 11:15:30,211 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@12765ebd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@4601a148, testMethod = update@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3703a400 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:15:30,213 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:15:30,215 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:15:30,220 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 5 ms
2020-05-05 11:15:30,224 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@12765ebd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@21b2579d, testMethod = get@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3703a400 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@564d3940]; rollback [true]
2020-05-05 11:15:30,228 INFO  ru.restaurant.web.controller.MenuRestController.get:41 - get menu with id=100016
2020-05-05 11:15:30,294 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@12765ebd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@21b2579d, testMethod = get@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3703a400 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:15:30,304 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:15:30,307 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:15:30,318 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 7 ms
2020-05-05 11:15:30,327 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@12765ebd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@15aaf7b1, testMethod = createWithLocation@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3703a400 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@564d3940]; rollback [true]
2020-05-05 11:15:30,333 INFO  ru.restaurant.web.controller.MenuRestController.createWithLocation:59 - create Menu:null
2020-05-05 11:15:30,415 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@12765ebd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@15aaf7b1, testMethod = createWithLocation@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3703a400 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:15:30,443 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-05 11:18:45,752 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-05 11:18:45,785 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5aac4250, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1338fb5, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@42463763, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59f63e24, org.springframework.test.context.transaction.TransactionalTestExecutionListener@61f05988, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7ca33c24, org.springframework.test.context.event.EventPublishingTestExecutionListener@fade1fc]
2020-05-05 11:18:46,643 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-05 11:18:46,827 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 151ms. Found 5 JPA repository interfaces.
2020-05-05 11:18:47,510 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-05 11:18:47,638 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-05 11:18:47,831 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-05 11:18:48,580 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-05 11:18:49,170 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-05 11:18:49,864 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-05 11:18:49,877 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-05 11:18:51,618 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-05 11:18:51,764 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:18:51,765 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:18:51,787 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 21 ms
2020-05-05 11:18:51,809 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@22105c76 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@2336d3f, testMethod = delete@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7f5ecada testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@45635ae1]; rollback [true]
2020-05-05 11:18:51,892 INFO  ru.restaurant.web.controller.MenuRestController.delete:81 - delete menu 100016
2020-05-05 11:18:51,995 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@22105c76 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@2336d3f, testMethod = delete@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7f5ecada testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:18:52,002 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:18:52,003 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:18:52,006 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 2 ms
2020-05-05 11:18:52,009 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@22105c76 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@42d7e8bc, testMethod = getAll@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7f5ecada testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@45635ae1]; rollback [true]
2020-05-05 11:18:52,012 INFO  ru.restaurant.web.controller.MenuRestController.getAll:47 - get all menus
2020-05-05 11:18:52,293 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@22105c76 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@42d7e8bc, testMethod = getAll@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7f5ecada testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:18:52,295 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:18:52,295 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:18:52,297 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 1 ms
2020-05-05 11:18:52,300 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@22105c76 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@4fe9adfb, testMethod = getAllByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7f5ecada testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@45635ae1]; rollback [true]
2020-05-05 11:18:52,317 INFO  ru.restaurant.web.controller.MenuRestController.getByDate:53 - get menus by date 2020-04-01
2020-05-05 11:18:52,351 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@22105c76 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@4fe9adfb, testMethod = getAllByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7f5ecada testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:18:52,356 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:18:52,358 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:18:52,362 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 3 ms
2020-05-05 11:18:52,366 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@22105c76 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@38c1b1a7, testMethod = update@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7f5ecada testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@45635ae1]; rollback [true]
2020-05-05 11:18:52,390 INFO  ru.restaurant.web.controller.MenuRestController.update:73 - update Menu:100016 with id=100016
2020-05-05 11:18:52,448 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@22105c76 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@38c1b1a7, testMethod = update@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7f5ecada testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:18:52,450 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:18:52,451 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:18:52,453 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 2 ms
2020-05-05 11:18:52,457 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@22105c76 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1a22c1ba, testMethod = get@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7f5ecada testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@45635ae1]; rollback [true]
2020-05-05 11:18:52,461 INFO  ru.restaurant.web.controller.MenuRestController.get:41 - get menu with id=100016
2020-05-05 11:18:52,475 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@22105c76 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1a22c1ba, testMethod = get@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7f5ecada testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:18:52,477 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:18:52,478 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:18:52,480 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 2 ms
2020-05-05 11:18:52,483 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@22105c76 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@3bf41cd0, testMethod = createWithLocation@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7f5ecada testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@45635ae1]; rollback [true]
2020-05-05 11:18:52,486 INFO  ru.restaurant.web.controller.MenuRestController.createWithLocation:59 - create Menu:null
2020-05-05 11:18:52,535 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@22105c76 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@3bf41cd0, testMethod = createWithLocation@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7f5ecada testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:18:52,552 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-05 11:19:12,333 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-05 11:19:12,361 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6d23017e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@54dcfa5a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1817f1eb, org.springframework.test.context.support.DirtiesContextTestExecutionListener@767e20cf, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3a3e78f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@301ec38b, org.springframework.test.context.event.EventPublishingTestExecutionListener@17a1e4ca]
2020-05-05 11:19:13,185 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-05 11:19:13,334 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 130ms. Found 5 JPA repository interfaces.
2020-05-05 11:19:14,191 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-05 11:19:14,296 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-05 11:19:14,496 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-05 11:19:15,280 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-05 11:19:15,780 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-05 11:19:16,436 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-05 11:19:16,448 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-05 11:19:18,186 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-05 11:19:18,360 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:19:18,361 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:19:18,379 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 18 ms
2020-05-05 11:19:18,401 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@353422fd testClass = DishRestControllerTest, testInstance = ru.restaurant.web.controller.DishRestControllerTest@654cb30c, testMethod = createWithLocation@DishRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5cc669d testClass = DishRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5e9f1a4c]; rollback [true]
2020-05-05 11:19:18,609 INFO  ru.restaurant.web.controller.DishRestController.createWithLocation:47 - create dish=Dish{id=null, price=50, name='New}
2020-05-05 11:19:18,791 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@353422fd testClass = DishRestControllerTest, testInstance = ru.restaurant.web.controller.DishRestControllerTest@654cb30c, testMethod = createWithLocation@DishRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5cc669d testClass = DishRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:19:18,799 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:19:18,799 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:19:18,802 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 2 ms
2020-05-05 11:19:18,805 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@353422fd testClass = DishRestControllerTest, testInstance = ru.restaurant.web.controller.DishRestControllerTest@779448b8, testMethod = update@DishRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5cc669d testClass = DishRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5e9f1a4c]; rollback [true]
2020-05-05 11:19:18,816 INFO  ru.restaurant.web.controller.DishRestController.update:60 - update Dish{id=100002, price=75, name='Updated}
2020-05-05 11:19:18,842 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@353422fd testClass = DishRestControllerTest, testInstance = ru.restaurant.web.controller.DishRestControllerTest@779448b8, testMethod = update@DishRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5cc669d testClass = DishRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:19:18,844 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:19:18,844 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:19:18,847 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 1 ms
2020-05-05 11:19:18,851 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@353422fd testClass = DishRestControllerTest, testInstance = ru.restaurant.web.controller.DishRestControllerTest@43e2b8da, testMethod = delete@DishRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5cc669d testClass = DishRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5e9f1a4c]; rollback [true]
2020-05-05 11:19:18,854 INFO  ru.restaurant.web.controller.DishRestController.delete:68 - delete dish 100002
2020-05-05 11:19:18,890 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@353422fd testClass = DishRestControllerTest, testInstance = ru.restaurant.web.controller.DishRestControllerTest@43e2b8da, testMethod = delete@DishRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5cc669d testClass = DishRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:19:18,908 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-05 11:21:25,059 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-05 11:21:25,089 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-05 11:21:25,912 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-05 11:21:26,084 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 146ms. Found 5 JPA repository interfaces.
2020-05-05 11:21:26,797 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-05 11:21:26,901 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-05 11:21:27,114 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-05 11:21:28,016 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-05 11:21:28,559 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-05 11:21:29,177 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-05 11:21:29,189 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-05 11:21:30,904 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-05 11:21:31,133 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-05 11:21:31,134 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-05 11:21:31,159 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 24 ms
2020-05-05 11:21:31,186 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@12765ebd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1dac0784, testMethod = getAll@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3703a400 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@564d3940]; rollback [true]
2020-05-05 11:21:31,253 INFO  ru.restaurant.web.controller.MenuRestController.getAll:47 - get all menus
2020-05-05 11:21:31,664 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@12765ebd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1dac0784, testMethod = getAll@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3703a400 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-05 11:21:31,685 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-08 06:50:15,171 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-08 06:50:15,200 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-08 06:50:15,975 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-08 06:50:16,145 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 149ms. Found 5 JPA repository interfaces.
2020-05-08 06:50:16,957 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-08 06:50:17,149 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-08 06:50:17,460 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-08 06:50:18,408 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-08 06:50:18,952 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-08 06:50:19,863 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-08 06:50:19,875 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-08 06:50:21,593 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-08 06:50:21,737 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-08 06:50:21,738 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-08 06:50:21,759 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 21 ms
2020-05-08 06:50:21,785 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@45e35a0d testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@21d15932, testMethod = getAll@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3966c679 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@17fb5184]; rollback [true]
2020-05-08 06:50:21,856 INFO  ru.restaurant.web.controller.MenuRestController.getAll:47 - get all menus
2020-05-08 06:50:22,237 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@45e35a0d testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@21d15932, testMethod = getAll@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3966c679 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-08 06:50:22,261 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-08 07:16:14,147 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-08 07:16:14,177 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-08 07:16:15,154 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-08 07:16:15,326 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 146ms. Found 5 JPA repository interfaces.
2020-05-08 07:16:16,192 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-08 07:16:16,332 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-08 07:16:16,607 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-08 07:16:17,391 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-08 07:16:17,855 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-08 07:16:18,576 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-08 07:16:18,592 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-08 07:16:20,264 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-08 07:16:20,410 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-08 07:16:20,412 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-08 07:16:20,431 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 19 ms
2020-05-08 07:16:20,456 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@45e35a0d testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@21d15932, testMethod = getAllByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3966c679 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@17fb5184]; rollback [true]
2020-05-08 07:16:20,556 INFO  ru.restaurant.web.controller.MenuRestController.getByDate:53 - get menus by date 2020-04-01
2020-05-08 07:16:20,933 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@45e35a0d testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@21d15932, testMethod = getAllByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3966c679 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-08 07:16:20,952 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-08 07:51:19,310 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-08 07:51:19,342 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-08 07:51:20,275 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-08 07:51:20,473 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 162ms. Found 5 JPA repository interfaces.
2020-05-08 07:51:21,167 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-08 07:51:21,314 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-08 07:51:21,578 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-08 07:51:22,437 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-08 07:51:22,996 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-08 07:51:23,725 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-08 07:51:23,737 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-08 07:51:25,188 WARN  o.s.w.context.support.GenericWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'menuRestController' method 
ru.restaurant.web.controller.MenuRestController#getByDate(LocalDate)
to {GET /rest/menus, params [date], produces [application/json]}: There is already 'menuRestController' bean method
ru.restaurant.web.controller.MenuRestController#getOfferByDate(LocalDate) mapped.
2020-05-08 07:51:25,190 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-08 07:51:25,196 ERROR o.springframework.test.context.TestContextManager.prepareTestInstance:248 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b] to prepare test instance [ru.restaurant.web.controller.MenuRestControllerTest@2fcffc05]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:123)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:98)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassBasedTestDescriptor.java:341)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:346)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:341)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:340)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:263)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:256)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:255)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:29)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:108)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:107)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:71)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:107)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:107)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:75)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'menuRestController' method 
ru.restaurant.web.controller.MenuRestController#getByDate(LocalDate)
to {GET /rest/menus, params [date], produces [application/json]}: There is already 'menuRestController' bean method
ru.restaurant.web.controller.MenuRestController#getOfferByDate(LocalDate) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:882)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(AbstractGenericWebContextLoader.java:129)
	at org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(AbstractGenericWebContextLoader.java:61)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:275)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:243)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 63 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'menuRestController' method 
ru.restaurant.web.controller.MenuRestController#getByDate(LocalDate)
to {GET /rest/menus, params [date], produces [application/json]}: There is already 'menuRestController' bean method
ru.restaurant.web.controller.MenuRestController#getOfferByDate(LocalDate) mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:600)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:318)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:379)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:78)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$1(AbstractHandlerMethodMapping.java:288)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:286)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:258)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:217)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:205)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:190)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	... 78 common frames omitted
2020-05-08 07:54:41,920 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-08 07:54:41,948 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-08 07:54:42,751 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-08 07:54:42,915 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 136ms. Found 5 JPA repository interfaces.
2020-05-08 07:54:43,576 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-08 07:54:43,687 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-08 07:54:43,928 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-08 07:54:44,782 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-08 07:54:45,345 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-08 07:54:46,042 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-08 07:54:46,054 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-08 07:54:47,685 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-08 07:54:47,841 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-08 07:54:47,842 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-08 07:54:47,865 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 23 ms
2020-05-08 07:54:47,890 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@750457a5 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@6c4786af, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@65c689e7 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@39403943]; rollback [true]
2020-05-08 07:54:47,980 INFO  ru.restaurant.web.controller.MenuRestController.getByDate:53 - get menus by date 2020-04-01
2020-05-08 07:54:48,306 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@750457a5 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@6c4786af, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@65c689e7 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-08 07:54:48,330 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-09 07:43:17,301 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-09 07:43:17,332 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-09 07:43:18,113 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-09 07:43:18,295 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 161ms. Found 5 JPA repository interfaces.
2020-05-09 07:43:19,118 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-09 07:43:19,309 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-09 07:43:19,643 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-09 07:43:20,754 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-09 07:43:21,359 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-09 07:43:22,309 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-09 07:43:22,323 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-09 07:43:24,143 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-09 07:43:24,291 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-09 07:43:24,292 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-09 07:43:24,313 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 21 ms
2020-05-09 07:43:24,336 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@750457a5 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@6c4786af, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@65c689e7 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@39403943]; rollback [true]
2020-05-09 07:43:24,454 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:60 - get offer by date 2020-04-01
2020-05-09 07:43:24,519 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@750457a5 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@6c4786af, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: Unable to locate Attribute  with the the given name [dishes] on this ManagedType [ru.restaurant.model.AbstractBaseEntity]; nested exception is java.lang.IllegalArgumentException: Unable to locate Attribute  with the the given name [dishes] on this ManagedType [ru.restaurant.model.AbstractBaseEntity], mergedContextConfiguration = [WebMergedContextConfiguration@65c689e7 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-09 07:43:24,552 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-09 07:45:42,462 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-09 07:45:42,491 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-09 07:45:43,313 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-09 07:45:43,471 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 133ms. Found 5 JPA repository interfaces.
2020-05-09 07:45:44,182 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-09 07:45:44,348 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-09 07:45:44,547 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-09 07:45:45,365 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-09 07:45:45,908 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-09 07:45:46,610 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-09 07:45:46,622 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-09 07:45:48,255 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-09 07:45:48,381 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-09 07:45:48,382 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-09 07:45:48,400 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 17 ms
2020-05-09 07:45:48,422 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@da67c46 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@5c7e55a4, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7ae6927 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@66d61298]; rollback [true]
2020-05-09 07:45:48,498 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:60 - get offer by date 2020-04-01
2020-05-09 07:45:48,880 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@da67c46 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@5c7e55a4, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[Menu:100016,
    Menu:100017,
    Menu:100018,
    Menu:100019,
    Menu:100020,
    Menu:100021,
    Menu:100022,
    Menu:100023,
    Menu:100024]>
to be equal to:
 <[Menu:100024,
    Menu:100023,
    Menu:100022,
    Menu:100021,
    Menu:100020,
    Menu:100019,
    Menu:100018,
    Menu:100017,
    Menu:100016]>
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@7ae6927 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-09 07:45:48,905 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-09 07:46:51,870 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-09 07:46:51,900 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-09 07:46:52,693 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-09 07:46:52,853 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 135ms. Found 5 JPA repository interfaces.
2020-05-09 07:46:53,456 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-09 07:46:53,599 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-09 07:46:53,794 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-09 07:46:54,551 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-09 07:46:55,012 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-09 07:46:55,631 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-09 07:46:55,643 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-09 07:46:57,498 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-09 07:46:57,629 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-09 07:46:57,629 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-09 07:46:57,653 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 23 ms
2020-05-09 07:46:57,679 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1999e1f5 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@b1fa523, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@77307b51 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6fe9c048]; rollback [true]
2020-05-09 07:46:57,765 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:60 - get offer by date 2020-04-01
2020-05-09 07:46:57,819 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1999e1f5 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@b1fa523, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: Unable to locate Attribute  with the the given name [restaurants] on this ManagedType [ru.restaurant.model.AbstractBaseEntity]; nested exception is java.lang.IllegalArgumentException: Unable to locate Attribute  with the the given name [restaurants] on this ManagedType [ru.restaurant.model.AbstractBaseEntity], mergedContextConfiguration = [WebMergedContextConfiguration@77307b51 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-09 07:46:57,856 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-09 08:15:38,629 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-09 08:15:38,650 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-09 08:15:39,374 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-09 08:15:39,547 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 150ms. Found 5 JPA repository interfaces.
2020-05-09 08:15:40,183 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-09 08:15:40,317 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-09 08:15:40,540 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-09 08:15:41,400 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-09 08:15:41,943 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-09 08:15:42,783 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-09 08:15:42,802 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-09 08:15:44,553 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-09 08:15:44,714 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-09 08:15:44,715 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-09 08:15:44,737 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 22 ms
2020-05-09 08:15:44,761 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7d0df326 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@43f7f48d, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6d0a4a22 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@56e78538]; rollback [true]
2020-05-09 08:15:44,870 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:60 - get offer by date 2020-04-01
2020-05-09 08:15:44,927 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7d0df326 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@43f7f48d, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: Named parameter not bound : dateParam; nested exception is org.hibernate.QueryException: Named parameter not bound : dateParam, mergedContextConfiguration = [WebMergedContextConfiguration@6d0a4a22 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-09 08:15:44,956 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-09 08:17:20,258 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-09 08:17:20,284 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-09 08:17:21,123 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-09 08:17:21,319 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 168ms. Found 5 JPA repository interfaces.
2020-05-09 08:17:21,960 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-09 08:17:22,079 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-09 08:17:22,302 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-09 08:17:23,049 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-09 08:17:23,515 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-09 08:17:24,218 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-09 08:17:24,231 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-09 08:17:25,919 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-09 08:17:26,071 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-09 08:17:26,072 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-09 08:17:26,094 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 22 ms
2020-05-09 08:17:26,117 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7ae6927 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@7d0df326, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c7cf8c4]; rollback [true]
2020-05-09 08:17:26,194 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:60 - get offer by date 2020-04-01
2020-05-09 08:17:26,524 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7ae6927 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@7d0df326, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[Menu:100016,
    Menu:100017,
    Menu:100018,
    Menu:100019,
    Menu:100020,
    Menu:100021,
    Menu:100022,
    Menu:100023,
    Menu:100024]>
to be equal to:
 <[Menu:100024,
    Menu:100023,
    Menu:100022,
    Menu:100021,
    Menu:100020,
    Menu:100019,
    Menu:100018,
    Menu:100017,
    Menu:100016]>
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-09 08:17:26,552 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 12:33:35,874 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 12:33:35,899 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 12:33:36,701 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 12:33:36,864 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 143ms. Found 5 JPA repository interfaces.
2020-05-10 12:33:37,683 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 12:33:37,835 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 12:33:38,095 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 12:33:39,025 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 12:33:39,561 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 12:33:40,444 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 12:33:40,457 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 12:33:42,169 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 12:33:42,314 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 12:33:42,315 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 12:33:42,345 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 30 ms
2020-05-10 12:33:42,369 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7ae6927 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@7d0df326, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c7cf8c4]; rollback [true]
2020-05-10 12:33:42,467 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:60 - get offer by date 2020-04-01
2020-05-10 12:33:42,850 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7ae6927 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@7d0df326, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[Menu:100016,
    Menu:100017,
    Menu:100018,
    Menu:100019,
    Menu:100020,
    Menu:100021,
    Menu:100022,
    Menu:100023,
    Menu:100024]>
to be equal to:
 <[Menu:100024,
    Menu:100023,
    Menu:100022,
    Menu:100021,
    Menu:100020,
    Menu:100019,
    Menu:100018,
    Menu:100017,
    Menu:100016]>
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 12:33:42,875 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 14:13:43,343 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 14:13:43,373 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 14:13:44,279 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 14:13:44,444 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 141ms. Found 5 JPA repository interfaces.
2020-05-10 14:13:45,038 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 14:13:45,137 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 14:13:45,324 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 14:13:46,218 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 14:13:46,698 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 14:13:47,372 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 14:13:47,388 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 14:13:49,104 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 14:13:49,257 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 14:13:49,258 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 14:13:49,279 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 21 ms
2020-05-10 14:13:49,300 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7ae6927 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@7d0df326, testMethod = getAllByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c7cf8c4]; rollback [true]
2020-05-10 14:13:49,392 INFO  ru.restaurant.web.controller.MenuRestController.getByDate:53 - get menus by date 2020-04-01
2020-05-10 14:13:49,738 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7ae6927 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@7d0df326, testMethod = getAllByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 14:13:49,759 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 14:14:32,999 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 14:14:33,038 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42721fe, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@40844aab, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1f6c9cd8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5b619d14, org.springframework.test.context.transaction.TransactionalTestExecutionListener@66746f57, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@447a020, org.springframework.test.context.event.EventPublishingTestExecutionListener@7f36662c]
2020-05-10 14:14:33,631 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 14:14:33,864 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 208ms. Found 5 JPA repository interfaces.
2020-05-10 14:14:34,471 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 14:14:34,605 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 14:14:34,792 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 14:14:35,618 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 14:14:36,089 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 14:14:36,763 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 14:14:36,775 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 14:14:38,166 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 14:15:45,249 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 14:15:45,281 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42721fe, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@40844aab, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1f6c9cd8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5b619d14, org.springframework.test.context.transaction.TransactionalTestExecutionListener@66746f57, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@447a020, org.springframework.test.context.event.EventPublishingTestExecutionListener@7f36662c]
2020-05-10 14:15:45,895 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 14:15:46,117 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 196ms. Found 5 JPA repository interfaces.
2020-05-10 14:15:46,675 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 14:15:46,776 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 14:15:46,978 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 14:15:47,755 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 14:15:48,239 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 14:15:48,824 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 14:15:48,837 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 14:15:50,180 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 14:16:32,121 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 14:16:32,150 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42721fe, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@40844aab, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1f6c9cd8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5b619d14, org.springframework.test.context.transaction.TransactionalTestExecutionListener@66746f57, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@447a020, org.springframework.test.context.event.EventPublishingTestExecutionListener@7f36662c]
2020-05-10 14:16:32,753 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 14:16:32,962 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 182ms. Found 5 JPA repository interfaces.
2020-05-10 14:16:33,392 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 14:16:33,553 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 14:16:33,789 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 14:16:34,543 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 14:16:35,043 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 14:16:35,771 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 14:16:35,788 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 14:16:37,169 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 14:17:55,484 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 14:17:55,515 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42721fe, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@40844aab, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1f6c9cd8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5b619d14, org.springframework.test.context.transaction.TransactionalTestExecutionListener@66746f57, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@447a020, org.springframework.test.context.event.EventPublishingTestExecutionListener@7f36662c]
2020-05-10 14:17:56,152 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 14:17:56,358 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 180ms. Found 5 JPA repository interfaces.
2020-05-10 14:17:56,794 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 14:17:56,902 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 14:17:57,127 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 14:17:57,973 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 14:17:58,427 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 14:17:59,064 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 14:17:59,077 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 14:18:00,472 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 14:18:20,803 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 14:18:20,912 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42721fe, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@40844aab, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1f6c9cd8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5b619d14, org.springframework.test.context.transaction.TransactionalTestExecutionListener@66746f57, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@447a020, org.springframework.test.context.event.EventPublishingTestExecutionListener@7f36662c]
2020-05-10 14:18:21,788 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 14:18:22,063 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 236ms. Found 5 JPA repository interfaces.
2020-05-10 14:18:22,503 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 14:18:22,607 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 14:18:22,855 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 14:18:23,681 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 14:18:24,164 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 14:18:24,909 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 14:18:24,922 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 14:18:26,292 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 14:18:51,005 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 14:18:51,035 INFO  o.s.t.c.support.DefaultTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@42721fe, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@40844aab, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1f6c9cd8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5b619d14, org.springframework.test.context.transaction.TransactionalTestExecutionListener@66746f57, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@447a020, org.springframework.test.context.event.EventPublishingTestExecutionListener@7f36662c]
2020-05-10 14:18:51,591 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 14:18:51,773 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 164ms. Found 5 JPA repository interfaces.
2020-05-10 14:18:52,250 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 14:18:52,407 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 14:18:52,608 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 14:18:53,407 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 14:18:54,019 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 14:18:54,619 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 14:18:54,630 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 14:18:55,937 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 15:44:49,968 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 15:44:49,992 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6b3e12b5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5aac4250, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1338fb5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@42463763, org.springframework.test.context.transaction.TransactionalTestExecutionListener@59f63e24, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@61f05988, org.springframework.test.context.event.EventPublishingTestExecutionListener@7ca33c24]
2020-05-10 15:44:50,878 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 15:44:51,058 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 149ms. Found 5 JPA repository interfaces.
2020-05-10 15:44:51,684 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 15:44:51,785 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 15:44:51,976 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 15:44:52,728 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 15:44:53,303 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 15:44:54,143 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 15:44:54,155 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 15:44:55,816 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 15:44:55,963 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 15:44:55,963 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 15:44:55,984 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 20 ms
2020-05-10 15:44:56,011 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1cca2e9d testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@77d3c3d7, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4cefa0be testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@52ccf197]; rollback [true]
2020-05-10 15:44:56,111 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 15:44:56,435 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1cca2e9d testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@77d3c3d7, testMethod = getOfferByDate@MenuRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read array from JSON:
'[{"date":"2020-04-01","restaurant":{"id":100013,"name":"Lucky Pizza","menus":null,"votes":null},"dishes":[null,null,null]},{"date":"2020-04-01","restaurant":{"id":100015,"name":"Green Garden","menus":null,"votes":null},"dishes":[null,null,null]},{"date":"2020-04-01","restaurant":{"id":100014,"name":"Steak House","menus":null,"votes":null},"dishes":[null,null,null]}]', mergedContextConfiguration = [WebMergedContextConfiguration@4cefa0be testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 15:44:56,469 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 15:54:12,281 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 15:54:12,308 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 15:54:13,121 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 15:54:13,280 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 132ms. Found 5 JPA repository interfaces.
2020-05-10 15:54:13,902 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 15:54:14,000 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 15:54:14,226 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 15:54:15,004 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 15:54:15,532 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 15:54:16,359 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 15:54:16,372 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 15:54:18,067 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 15:54:18,226 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 15:54:18,227 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 15:54:18,251 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 24 ms
2020-05-10 15:54:18,281 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@77d3c3d7 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@4cefa0be, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5a3be84 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2b06681c]; rollback [true]
2020-05-10 15:54:18,382 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 15:54:18,725 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@77d3c3d7 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@4cefa0be, testMethod = getOfferByDate@MenuRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read array from JSON:
'[{"date":"2020-04-01","restaurantTo":{"name":"Lucky Pizza"},"dishes":[null,null,null]},{"date":"2020-04-01","restaurantTo":{"name":"Green Garden"},"dishes":[null,null,null]},{"date":"2020-04-01","restaurantTo":{"name":"Steak House"},"dishes":[null,null,null]}]', mergedContextConfiguration = [WebMergedContextConfiguration@5a3be84 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 15:54:18,756 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:02:29,445 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 16:02:29,479 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 16:02:30,427 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 16:02:30,618 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 163ms. Found 5 JPA repository interfaces.
2020-05-10 16:02:31,314 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 16:02:31,413 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 16:02:31,623 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 16:02:32,416 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 16:02:33,037 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 16:02:33,809 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 16:02:33,823 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:02:35,666 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 16:02:35,806 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 16:02:35,807 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 16:02:35,832 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 24 ms
2020-05-10 16:02:35,855 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@b1fa523 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@77307b51, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@48d464cf testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@54d46c8]; rollback [true]
2020-05-10 16:02:35,933 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 16:02:36,198 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@b1fa523 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@77307b51, testMethod = getOfferByDate@MenuRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read array from JSON:
'[{"date":"2020-04-01","restaurantTo":{"name":"Lucky Pizza"},"dishes":[null,null,null]},{"date":"2020-04-01","restaurantTo":{"name":"Green Garden"},"dishes":[null,null,null]},{"date":"2020-04-01","restaurantTo":{"name":"Steak House"},"dishes":[null,null,null]}]', mergedContextConfiguration = [WebMergedContextConfiguration@48d464cf testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 16:02:36,234 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:03:01,641 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 16:03:01,697 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 16:03:02,569 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 16:03:02,722 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 129ms. Found 5 JPA repository interfaces.
2020-05-10 16:03:03,705 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 16:03:03,806 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 16:03:04,003 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 16:03:04,776 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 16:03:05,353 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 16:03:06,063 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 16:03:06,075 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:03:07,796 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 16:03:07,945 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 16:03:07,946 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 16:03:07,970 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 23 ms
2020-05-10 16:03:07,995 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7ae6927 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@7d0df326, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c7cf8c4]; rollback [true]
2020-05-10 16:03:08,089 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 16:03:08,262 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7ae6927 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@7d0df326, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class ru.restaurant.to.RestaurantTo]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class ru.restaurant.to.RestaurantTo and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]->ru.restaurant.to.MenuTo["restaurantTo"]), mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 16:03:08,300 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:04:55,821 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 16:04:55,871 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 16:04:56,700 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 16:04:56,857 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 139ms. Found 5 JPA repository interfaces.
2020-05-10 16:04:57,671 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 16:04:57,791 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 16:04:57,983 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 16:04:58,893 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 16:04:59,375 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 16:05:00,108 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 16:05:00,124 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:05:01,932 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 16:05:02,099 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 16:05:02,099 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 16:05:02,130 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 30 ms
2020-05-10 16:05:02,158 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4cefa0be testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@5a3be84, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4850d66b testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@20f6b6e0]; rollback [true]
2020-05-10 16:05:02,245 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 16:05:02,546 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4cefa0be testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@5a3be84, testMethod = getOfferByDate@MenuRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read array from JSON:
'[{"date":"2020-04-01","restaurantTo":{"id":100013,"name":"Lucky Pizza"},"dishes":[null,null,null]},{"date":"2020-04-01","restaurantTo":{"id":100015,"name":"Green Garden"},"dishes":[null,null,null]},{"date":"2020-04-01","restaurantTo":{"id":100014,"name":"Steak House"},"dishes":[null,null,null]}]', mergedContextConfiguration = [WebMergedContextConfiguration@4850d66b testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 16:05:02,582 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:23:44,214 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 16:23:44,243 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 16:23:45,102 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 16:23:45,250 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 126ms. Found 5 JPA repository interfaces.
2020-05-10 16:23:45,964 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 16:23:46,067 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 16:23:46,289 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 16:23:47,085 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 16:23:47,605 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 16:23:48,249 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 16:23:48,261 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:23:49,900 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 16:23:50,049 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 16:23:50,049 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 16:23:50,070 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 20 ms
2020-05-10 16:23:50,091 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@b1fa523 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@77307b51, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@48d464cf testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@54d46c8]; rollback [true]
2020-05-10 16:23:50,173 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 16:23:50,436 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@b1fa523 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@77307b51, testMethod = getOfferByDate@MenuRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read array from JSON:
'[{"date":"2020-04-01","restaurantTo":{"id":100013,"name":"Lucky Pizza"},"dishes":[null,null,null]},{"date":"2020-04-01","restaurantTo":{"id":100015,"name":"Green Garden"},"dishes":[null,null,null]},{"date":"2020-04-01","restaurantTo":{"id":100014,"name":"Steak House"},"dishes":[null,null,null]}]', mergedContextConfiguration = [WebMergedContextConfiguration@48d464cf testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 16:23:50,476 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:24:44,246 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 16:24:44,280 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 16:24:45,093 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 16:24:45,240 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 129ms. Found 5 JPA repository interfaces.
2020-05-10 16:24:46,052 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 16:24:46,166 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 16:24:46,409 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 16:24:47,193 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 16:24:47,664 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 16:24:48,354 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 16:24:48,367 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:24:50,028 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 16:24:50,165 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 16:24:50,165 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 16:24:50,183 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 17 ms
2020-05-10 16:24:50,203 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7ae6927 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@7d0df326, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c7cf8c4]; rollback [true]
2020-05-10 16:24:50,298 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 16:24:50,606 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7ae6927 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@7d0df326, testMethod = getOfferByDate@MenuRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read array from JSON:
'[{"date":"2020-04-01","restaurantTo":{"id":100013,"name":"Lucky Pizza"},"dishes":[null,null,null]},{"date":"2020-04-01","restaurantTo":{"id":100015,"name":"Green Garden"},"dishes":[null,null,null]},{"date":"2020-04-01","restaurantTo":{"id":100014,"name":"Steak House"},"dishes":[null,null,null]}]', mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 16:24:50,636 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:42:29,953 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 16:42:29,983 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 16:42:30,874 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 16:42:31,054 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 152ms. Found 5 JPA repository interfaces.
2020-05-10 16:42:31,669 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 16:42:31,798 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 16:42:32,039 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 16:42:32,783 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 16:42:33,317 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 16:42:34,004 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 16:42:34,016 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:42:35,635 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 16:42:35,773 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 16:42:35,774 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 16:42:35,794 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 20 ms
2020-05-10 16:42:35,819 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7ae6927 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@7d0df326, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c7cf8c4]; rollback [true]
2020-05-10 16:42:35,901 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 16:42:36,211 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7ae6927 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@7d0df326, testMethod = getOfferByDate@MenuRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read array from JSON:
'[{"date":"2020-04-01","restaurant":{"id":100013,"name":"Lucky Pizza"},"dishes":[null,null,null]},{"date":"2020-04-01","restaurant":{"id":100015,"name":"Green Garden"},"dishes":[null,null,null]},{"date":"2020-04-01","restaurant":{"id":100014,"name":"Steak House"},"dishes":[null,null,null]}]', mergedContextConfiguration = [WebMergedContextConfiguration@43f7f48d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 16:42:36,242 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:48:10,243 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 16:48:10,271 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 16:48:11,122 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 16:48:11,305 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 155ms. Found 5 JPA repository interfaces.
2020-05-10 16:48:12,461 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 16:48:12,602 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 16:48:12,818 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 16:48:13,808 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 16:48:14,289 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 16:48:14,932 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 16:48:14,944 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:48:16,633 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 16:48:16,774 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 16:48:16,774 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 16:48:16,796 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 21 ms
2020-05-10 16:48:16,818 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7d0df326 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@43f7f48d, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6d0a4a22 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@56e78538]; rollback [true]
2020-05-10 16:48:16,901 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 16:48:16,949 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7d0df326 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@43f7f48d, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: Named parameter not bound : dateParam; nested exception is org.hibernate.QueryException: Named parameter not bound : dateParam, mergedContextConfiguration = [WebMergedContextConfiguration@6d0a4a22 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 16:48:16,983 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:49:19,897 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 16:49:19,932 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 16:49:20,764 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 16:49:20,914 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 126ms. Found 5 JPA repository interfaces.
2020-05-10 16:49:21,537 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 16:49:21,680 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 16:49:21,875 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 16:49:22,669 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 16:49:23,220 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 16:49:23,941 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 16:49:23,955 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:49:25,563 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 16:49:25,702 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 16:49:25,702 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 16:49:25,720 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 17 ms
2020-05-10 16:49:25,741 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@7d0df326 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@43f7f48d, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6d0a4a22 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@56e78538]; rollback [true]
2020-05-10 16:49:25,827 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 16:49:26,120 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@7d0df326 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@43f7f48d, testMethod = getOfferByDate@MenuRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read array from JSON:
'[{"date":"2020-04-01","restaurant":{"id":100013,"name":"Lucky Pizza"},"dishes":[{"id":100002,"name":"Meat Soup","price":50},{"id":100004,"name":"Salad with meat","price":50},{"id":100012,"name":"Tee","price":10}]},{"date":"2020-04-01","restaurant":{"id":100015,"name":"Green Garden"},"dishes":[{"id":100006,"name":"Caesar","price":50},{"id":100007,"name":"BeefSteak","price":150},{"id":100010,"name":"Juice","price":20}]},{"date":"2020-04-01","restaurant":{"id":100014,"name":"Steak House"},"dishes":[{"id":100003,"name":"Chicken Soup","price":40},{"id":100005,"name":"Vegetable salad","price":40},{"id":100011,"name":"Coffee","price":15}]}]', mergedContextConfiguration = [WebMergedContextConfiguration@6d0a4a22 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 16:49:26,152 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:52:30,294 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 16:52:30,323 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 16:52:31,253 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 16:52:31,426 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 139ms. Found 5 JPA repository interfaces.
2020-05-10 16:52:31,997 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 16:52:32,095 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 16:52:32,283 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 16:52:33,099 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 16:52:33,591 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 16:52:34,265 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 16:52:34,277 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 16:52:35,904 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 16:52:36,042 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 16:52:36,043 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 16:52:36,061 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 17 ms
2020-05-10 16:52:36,081 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@8e00c02 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@464d60fb, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@447543ee testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@54530644]; rollback [true]
2020-05-10 16:52:36,173 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-05-01
2020-05-10 16:52:36,243 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@8e00c02 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@464d60fb, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is ru.restaurant.util.Exception.NotFoundException: Menus for this date not found., mergedContextConfiguration = [WebMergedContextConfiguration@447543ee testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 16:52:36,279 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 20:53:46,519 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 20:53:46,559 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 20:53:47,470 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 20:53:47,608 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 120ms. Found 5 JPA repository interfaces.
2020-05-10 20:53:48,326 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 20:53:48,450 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 20:53:48,640 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 20:53:49,397 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 20:53:49,859 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 20:53:50,523 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 20:53:50,536 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 20:53:52,295 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 20:53:52,450 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 20:53:52,451 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 20:53:52,471 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 19 ms
2020-05-10 20:53:52,499 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4cefa0be testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@5a3be84, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4850d66b testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@20f6b6e0]; rollback [true]
2020-05-10 20:53:52,599 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 20:53:52,986 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4cefa0be testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@5a3be84, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[MenuTo:null, MenuTo:null, MenuTo:null]>
to be equal to:
 <[MenuTo:100024,
    MenuTo:100023,
    MenuTo:100022,
    MenuTo:100021,
    MenuTo:100020,
    MenuTo:100019,
    MenuTo:100018,
    MenuTo:100017,
    MenuTo:100016]>
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@4850d66b testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 20:53:53,016 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 20:56:02,288 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 20:56:02,330 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@abf688e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@478ee483, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1a7288a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2974f221, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58fe0499, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@686449f9, org.springframework.test.context.event.EventPublishingTestExecutionListener@665df3c6]
2020-05-10 20:56:03,141 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 20:56:03,305 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 147ms. Found 5 JPA repository interfaces.
2020-05-10 20:56:04,032 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 20:56:04,143 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 20:56:04,365 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 20:56:05,224 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 20:56:05,819 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 20:56:06,507 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 20:56:06,521 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 20:56:08,555 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 20:56:08,739 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 20:56:08,740 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 20:56:08,774 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 33 ms
2020-05-10 20:56:08,807 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5671078e testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@3fd21272, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4b4bc73d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2ad6aeb8]; rollback [true]
2020-05-10 20:56:08,927 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 20:57:42,715 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5671078e testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@3fd21272, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[MenuTo:null, MenuTo:null, MenuTo:null]>
to be equal to:
 <[MenuTo:100024,
    MenuTo:100023,
    MenuTo:100022,
    MenuTo:100021,
    MenuTo:100020,
    MenuTo:100019,
    MenuTo:100018,
    MenuTo:100017,
    MenuTo:100016]>
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@4b4bc73d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 20:57:42,751 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 20:57:56,116 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 20:57:56,154 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@320de594, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3dd1dc90, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@abf688e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@478ee483, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1a7288a3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2974f221, org.springframework.test.context.event.EventPublishingTestExecutionListener@58fe0499]
2020-05-10 20:57:56,915 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 20:57:57,077 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 143ms. Found 5 JPA repository interfaces.
2020-05-10 20:57:57,659 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 20:57:57,775 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 20:57:58,057 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 20:57:58,940 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 20:57:59,511 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 20:58:00,379 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 20:58:00,398 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 20:58:02,525 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 20:58:02,688 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 20:58:02,689 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 20:58:02,712 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 22 ms
2020-05-10 20:58:02,739 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@1f6ba47b testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1bb78ae, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3ee2d546 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@430db481]; rollback [true]
2020-05-10 20:58:02,861 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 21:05:59,679 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@1f6ba47b testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1bb78ae, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[MenuTo:null, MenuTo:null, MenuTo:null]>
to be equal to:
 <[MenuTo:100024,
    MenuTo:100023,
    MenuTo:100022,
    MenuTo:100021,
    MenuTo:100020,
    MenuTo:100019,
    MenuTo:100018,
    MenuTo:100017,
    MenuTo:100016]>
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@3ee2d546 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 21:05:59,712 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:06:33,375 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 21:06:33,402 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 21:06:34,357 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 21:06:34,546 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 162ms. Found 5 JPA repository interfaces.
2020-05-10 21:06:35,408 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 21:06:35,509 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 21:06:35,708 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 21:06:36,523 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 21:06:37,054 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 21:06:37,749 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 21:06:37,761 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:06:39,384 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 21:06:39,539 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 21:06:39,540 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 21:06:39,562 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 22 ms
2020-05-10 21:06:39,589 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@43f7f48d testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@6d0a4a22, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1999e1f5 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@731fae]; rollback [true]
2020-05-10 21:06:39,680 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 21:06:40,043 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@43f7f48d testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@6d0a4a22, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[MenuTo:null, MenuTo:null, MenuTo:null]>
to be equal to:
 <[MenuTo:100024,
    MenuTo:100023,
    MenuTo:100022,
    MenuTo:100021,
    MenuTo:100020,
    MenuTo:100019,
    MenuTo:100018,
    MenuTo:100017,
    MenuTo:100016]>
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@1999e1f5 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 21:06:40,070 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:18:29,240 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 21:18:29,285 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 21:18:30,193 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 21:18:30,377 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 150ms. Found 5 JPA repository interfaces.
2020-05-10 21:18:31,223 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 21:18:31,323 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 21:18:31,526 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 21:18:32,333 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 21:18:32,909 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 21:18:33,586 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 21:18:33,598 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:18:35,540 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 21:18:35,690 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 21:18:35,691 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 21:18:35,716 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 24 ms
2020-05-10 21:18:35,747 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@21f479cd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@102fd71d, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@8e00c02 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4ae6451d]; rollback [true]
2020-05-10 21:18:35,860 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 21:18:36,292 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@21f479cd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@102fd71d, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[MenuTo:null, MenuTo:null, MenuTo:null] (ArrayList@2e5c7cd5)">
to be equal to:
 <"[MenuTo:null, MenuTo:null, MenuTo:null] (ListN@f252762)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@8e00c02 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 21:18:36,336 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:22:40,908 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 21:22:40,939 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 21:22:41,791 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 21:22:41,995 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 176ms. Found 5 JPA repository interfaces.
2020-05-10 21:22:42,713 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 21:22:42,818 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 21:22:43,015 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 21:22:43,770 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 21:22:44,270 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 21:22:44,925 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 21:22:44,945 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:22:46,627 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 21:22:46,777 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 21:22:46,778 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 21:22:46,801 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 23 ms
2020-05-10 21:22:46,830 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4850d66b testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@21f479cd, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@102fd71d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@52b891de]; rollback [true]
2020-05-10 21:22:46,934 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 21:22:47,290 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4850d66b testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@21f479cd, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100015(Green Garden), dishes=[Dish{id=100006, price=50, name='Caesar}, Dish{id=100007, price=150, name='BeefSteak}, Dish{id=100010, price=20, name='Juice}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]}]>
to be equal to:
 <[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100015(Green Garden), dishes=[Dish{id=100006, price=50, name='Caesar}, Dish{id=100007, price=150, name='BeefSteak}, Dish{id=100010, price=20, name='Juice}]}]>
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@102fd71d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 21:22:47,325 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:30:12,413 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 21:30:12,441 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 21:30:13,258 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 21:30:13,437 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 153ms. Found 5 JPA repository interfaces.
2020-05-10 21:30:14,083 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 21:30:14,238 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 21:30:14,454 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 21:30:15,316 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 21:30:15,963 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 21:30:16,680 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 21:30:16,691 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:30:18,388 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 21:30:18,560 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 21:30:18,561 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 21:30:18,584 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 23 ms
2020-05-10 21:30:18,614 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@21f479cd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@102fd71d, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@8e00c02 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4ae6451d]; rollback [true]
2020-05-10 21:30:18,713 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 21:30:19,086 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@21f479cd testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@102fd71d, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100015(Green Garden), dishes=[Dish{id=100006, price=50, name='Caesar}, Dish{id=100007, price=150, name='BeefSteak}, Dish{id=100010, price=20, name='Juice}]}] (ArrayList@237c8718)">
to be equal to:
 <"[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100015(Green Garden), dishes=[Dish{id=100006, price=50, name='Caesar}, Dish{id=100007, price=150, name='BeefSteak}, Dish{id=100010, price=20, name='Juice}]}] (ListN@325e03b)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@8e00c02 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 21:30:19,115 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:38:01,442 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 21:38:01,478 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 21:38:02,305 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 21:38:02,477 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 146ms. Found 5 JPA repository interfaces.
2020-05-10 21:38:03,199 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 21:38:03,315 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 21:38:03,513 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 21:38:04,338 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 21:38:04,955 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 21:38:05,632 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 21:38:05,645 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:38:07,311 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 21:38:07,458 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 21:38:07,458 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 21:38:07,480 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 21 ms
2020-05-10 21:38:07,507 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4cefa0be testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@5a3be84, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4850d66b testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@20f6b6e0]; rollback [true]
2020-05-10 21:38:07,618 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 21:38:08,039 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4cefa0be testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@5a3be84, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100015(Green Garden), dishes=[Dish{id=100006, price=50, name='Caesar}, Dish{id=100007, price=150, name='BeefSteak}, Dish{id=100010, price=20, name='Juice}]}] (ArrayList@7fcfe065)">
to be equal to:
 <"[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100015(Green Garden), dishes=[Dish{id=100006, price=50, name='Caesar}, Dish{id=100007, price=150, name='BeefSteak}, Dish{id=100010, price=20, name='Juice}]}] (ListN@7d2baa56)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@4850d66b testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 21:38:08,064 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:39:40,882 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 21:39:40,931 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@abf688e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@478ee483, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1a7288a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2974f221, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58fe0499, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@686449f9, org.springframework.test.context.event.EventPublishingTestExecutionListener@665df3c6]
2020-05-10 21:39:41,806 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 21:39:41,965 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 139ms. Found 5 JPA repository interfaces.
2020-05-10 21:39:42,546 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 21:39:42,655 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 21:39:42,891 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 21:39:43,775 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 21:39:44,370 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 21:39:45,129 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 21:39:45,143 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:39:47,171 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 21:39:47,325 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 21:39:47,326 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 21:39:47,352 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 26 ms
2020-05-10 21:39:47,379 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5671078e testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@3fd21272, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4b4bc73d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2ad6aeb8]; rollback [true]
2020-05-10 21:39:47,495 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 21:41:12,253 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5671078e testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@3fd21272, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100015(Green Garden), dishes=[Dish{id=100006, price=50, name='Caesar}, Dish{id=100007, price=150, name='BeefSteak}, Dish{id=100010, price=20, name='Juice}]}] (ArrayList@74ab8610)">
to be equal to:
 <"[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100015(Green Garden), dishes=[Dish{id=100006, price=50, name='Caesar}, Dish{id=100007, price=150, name='BeefSteak}, Dish{id=100010, price=20, name='Juice}]}] (ListN@231c521e)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@4b4bc73d testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 21:41:12,293 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:41:30,077 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 21:41:30,111 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 21:41:31,108 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 21:41:31,257 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 126ms. Found 5 JPA repository interfaces.
2020-05-10 21:41:32,036 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 21:41:32,160 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 21:41:32,354 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 21:41:33,111 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 21:41:33,607 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 21:41:34,272 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 21:41:34,288 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:41:35,948 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 21:41:36,082 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 21:41:36,083 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 21:41:36,100 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 17 ms
2020-05-10 21:41:36,120 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6d0a4a22 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1999e1f5, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@b1fa523 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@438a2d3]; rollback [true]
2020-05-10 21:41:36,206 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 21:41:36,619 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6d0a4a22 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1999e1f5, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100015(Green Garden), dishes=[Dish{id=100006, price=50, name='Caesar}, Dish{id=100007, price=150, name='BeefSteak}, Dish{id=100010, price=20, name='Juice}]}] (ArrayList@7267006e)">
to be equal to:
 <"[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100015(Green Garden), dishes=[Dish{id=100006, price=50, name='Caesar}, Dish{id=100007, price=150, name='BeefSteak}, Dish{id=100010, price=20, name='Juice}]}] (ListN@745c8a04)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@b1fa523 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 21:41:36,655 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:44:36,322 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 21:44:36,353 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 21:44:37,182 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 21:44:37,337 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 130ms. Found 5 JPA repository interfaces.
2020-05-10 21:44:38,084 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 21:44:38,211 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 21:44:38,404 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 21:44:39,230 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 21:44:39,728 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 21:44:40,418 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 21:44:40,431 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:44:42,028 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 21:44:42,180 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 21:44:42,181 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 21:44:42,205 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 22 ms
2020-05-10 21:44:42,230 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@5a3be84 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@4850d66b, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@21f479cd testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@67cd84f9]; rollback [true]
2020-05-10 21:44:42,316 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 21:44:42,761 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@5a3be84 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@4850d66b, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100015(Green Garden), dishes=[Dish{id=100006, price=50, name='Caesar}, Dish{id=100007, price=150, name='BeefSteak}, Dish{id=100010, price=20, name='Juice}]}] (ArrayList@7d2baa56)">
to be equal to:
 <"[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100015(Green Garden), dishes=[Dish{id=100006, price=50, name='Caesar}, Dish{id=100007, price=150, name='BeefSteak}, Dish{id=100010, price=20, name='Juice}]}] (ListN@6b4a2887)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@21f479cd testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 21:44:42,797 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:51:12,704 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 21:51:12,739 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 21:51:13,573 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 21:51:13,724 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 132ms. Found 5 JPA repository interfaces.
2020-05-10 21:51:14,564 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 21:51:14,662 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 21:51:14,850 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 21:51:15,668 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 21:51:16,226 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 21:51:16,891 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 21:51:16,912 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:51:18,611 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 21:51:18,773 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 21:51:18,774 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 21:51:18,797 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 22 ms
2020-05-10 21:51:18,822 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6d0a4a22 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1999e1f5, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@b1fa523 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@438a2d3]; rollback [true]
2020-05-10 21:51:18,927 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 21:51:19,300 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6d0a4a22 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1999e1f5, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100015(Green Garden), dishes=[Dish{id=100006, price=50, name='Caesar}, Dish{id=100007, price=150, name='BeefSteak}, Dish{id=100010, price=20, name='Juice}]}] (ArrayList@7267006e)">
to be equal to:
 <"[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100015(Green Garden), dishes=[Dish{id=100006, price=50, name='Caesar}, Dish{id=100007, price=150, name='BeefSteak}, Dish{id=100010, price=20, name='Juice}]}] (ListN@745c8a04)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@b1fa523 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 21:51:19,329 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:52:17,957 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 21:52:17,988 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@abf688e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@478ee483, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1a7288a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2974f221, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58fe0499, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@686449f9, org.springframework.test.context.event.EventPublishingTestExecutionListener@665df3c6]
2020-05-10 21:52:18,827 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 21:52:18,979 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 133ms. Found 5 JPA repository interfaces.
2020-05-10 21:52:19,623 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 21:52:19,793 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 21:52:20,056 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 21:52:20,919 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 21:52:21,641 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 21:52:22,322 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 21:52:22,337 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:52:24,237 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 21:52:24,394 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 21:52:24,394 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 21:52:24,420 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 25 ms
2020-05-10 21:52:24,450 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@42257df7 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@7b11ff9a, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3bd79444 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@6130a6f5]; rollback [true]
2020-05-10 21:52:24,542 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 21:53:48,963 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:54:35,304 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 21:54:35,346 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@abf688e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@478ee483, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1a7288a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2974f221, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58fe0499, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@686449f9, org.springframework.test.context.event.EventPublishingTestExecutionListener@665df3c6]
2020-05-10 21:54:36,211 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 21:54:36,362 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 133ms. Found 5 JPA repository interfaces.
2020-05-10 21:54:36,993 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 21:54:37,154 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 21:54:37,370 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 21:54:38,252 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 21:54:38,828 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 21:54:39,561 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 21:54:39,577 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 21:54:41,512 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 21:54:41,706 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 21:54:41,707 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 21:54:41,739 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 31 ms
2020-05-10 21:54:41,769 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@75d95b67 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@40f15786, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72ea6fcb testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@65cc3902]; rollback [true]
2020-05-10 21:54:41,873 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 22:13:00,057 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:13:10,398 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 22:13:10,422 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 22:13:11,284 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 22:13:11,442 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 140ms. Found 5 JPA repository interfaces.
2020-05-10 22:13:12,055 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 22:13:12,156 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 22:13:12,408 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 22:13:13,212 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 22:13:13,838 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 22:13:14,544 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 22:13:14,555 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:13:16,284 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 22:13:16,426 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 22:13:16,426 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 22:13:16,447 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 20 ms
2020-05-10 22:13:16,471 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6d0a4a22 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1999e1f5, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@b1fa523 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@438a2d3]; rollback [true]
2020-05-10 22:13:16,571 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 22:13:16,871 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6d0a4a22 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1999e1f5, testMethod = getOfferByDate@MenuRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'[{"date":"2020-04-01","restaurant":{"id":100013,"name":"Lucky Pizza"},"dishes":[{"id":100002,"name":"Meat Soup","price":50},{"id":100004,"name":"Salad with meat","price":50},{"id":100012,"name":"Tee","price":10}]},{"date":"2020-04-01","restaurant":{"id":100014,"name":"Steak House"},"dishes":[{"id":100003,"name":"Chicken Soup","price":40},{"id":100005,"name":"Vegetable salad","price":40},{"id":100011,"name":"Coffee","price":15}]},{"date":"2020-04-01","restaurant":{"id":100015,"name":"Green Garden"},"dishes":[{"id":100006,"name":"Caesar","price":50},{"id":100007,"name":"BeefSteak","price":150},{"id":100010,"name":"Juice","price":20}]}]', mergedContextConfiguration = [WebMergedContextConfiguration@b1fa523 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 22:13:16,901 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:13:59,207 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 22:13:59,244 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 22:14:00,245 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 22:14:00,433 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 162ms. Found 5 JPA repository interfaces.
2020-05-10 22:14:01,170 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 22:14:01,287 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 22:14:01,491 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 22:14:02,317 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 22:14:02,836 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 22:14:03,567 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 22:14:03,580 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:14:05,338 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 22:14:05,495 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 22:14:05,496 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 22:14:05,519 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 22 ms
2020-05-10 22:14:05,544 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6d0a4a22 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1999e1f5, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@b1fa523 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@438a2d3]; rollback [true]
2020-05-10 22:14:05,638 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 22:14:06,010 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6d0a4a22 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1999e1f5, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100015(Green Garden), dishes=[Dish{id=100006, price=50, name='Caesar}, Dish{id=100007, price=150, name='BeefSteak}, Dish{id=100010, price=20, name='Juice}]}]>
to be equal to:
 <[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]}]>
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@b1fa523 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 22:14:06,039 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:15:59,805 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 22:15:59,831 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 22:16:00,784 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 22:16:00,950 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 146ms. Found 5 JPA repository interfaces.
2020-05-10 22:16:01,563 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 22:16:01,663 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 22:16:01,863 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 22:16:02,666 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 22:16:03,352 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 22:16:04,035 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 22:16:04,046 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:16:05,781 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 22:16:05,915 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 22:16:05,916 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 22:16:05,933 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 17 ms
2020-05-10 22:16:05,956 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6d0a4a22 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1999e1f5, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@b1fa523 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@438a2d3]; rollback [true]
2020-05-10 22:16:06,046 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 22:16:06,454 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6d0a4a22 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1999e1f5, testMethod = getOfferByDate@MenuRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100015(Green Garden), dishes=[Dish{id=100006, price=50, name='Caesar}, Dish{id=100007, price=150, name='BeefSteak}, Dish{id=100010, price=20, name='Juice}]}] (ArrayList@7267006e)">
to be equal to:
 <"[MenuTo{date=2020-04-01, restaurant=RestaurantTo:100013(Lucky Pizza), dishes=[Dish{id=100002, price=50, name='Meat Soup}, Dish{id=100004, price=50, name='Salad with meat}, Dish{id=100012, price=10, name='Tee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100014(Steak House), dishes=[Dish{id=100003, price=40, name='Chicken Soup}, Dish{id=100005, price=40, name='Vegetable salad}, Dish{id=100011, price=15, name='Coffee}]},
    MenuTo{date=2020-04-01, restaurant=RestaurantTo:100015(Green Garden), dishes=[Dish{id=100006, price=50, name='Caesar}, Dish{id=100007, price=150, name='BeefSteak}, Dish{id=100010, price=20, name='Juice}]}] (ListN@745c8a04)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@b1fa523 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 22:16:06,486 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:18:37,853 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 22:18:37,889 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@abf688e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@478ee483, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1a7288a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2974f221, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58fe0499, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@686449f9, org.springframework.test.context.event.EventPublishingTestExecutionListener@665df3c6]
2020-05-10 22:18:38,651 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 22:18:38,805 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 136ms. Found 5 JPA repository interfaces.
2020-05-10 22:18:39,578 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 22:18:39,713 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 22:18:39,979 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 22:18:40,852 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 22:18:41,496 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 22:18:42,269 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 22:18:42,283 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:18:44,304 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 22:18:44,456 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 22:18:44,456 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 22:18:44,481 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 24 ms
2020-05-10 22:18:44,510 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4b4bc73d testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@4cb91fa4, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@12aa2cca testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7772ec28]; rollback [true]
2020-05-10 22:18:44,608 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 22:24:16,458 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:24:28,686 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 22:24:28,719 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 22:24:29,565 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 22:24:29,717 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 133ms. Found 5 JPA repository interfaces.
2020-05-10 22:24:30,315 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 22:24:30,413 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 22:24:30,621 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 22:24:31,540 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 22:24:32,030 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 22:24:32,910 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 22:24:32,922 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:24:34,492 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 22:24:34,647 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 22:24:34,648 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 22:24:34,669 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 21 ms
2020-05-10 22:24:34,693 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6d0a4a22 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1999e1f5, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@b1fa523 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@438a2d3]; rollback [true]
2020-05-10 22:24:34,826 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 22:24:35,242 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6d0a4a22 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1999e1f5, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@b1fa523 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 22:24:35,263 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:25:07,672 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 22:25:07,709 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 22:25:08,619 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 22:25:08,793 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 148ms. Found 5 JPA repository interfaces.
2020-05-10 22:25:09,495 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 22:25:09,652 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 22:25:09,863 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 22:25:10,624 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 22:25:11,153 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 22:25:11,849 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 22:25:11,861 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:25:13,531 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 22:25:13,682 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 22:25:13,683 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 22:25:13,704 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 21 ms
2020-05-10 22:25:13,727 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6d0a4a22 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1999e1f5, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@b1fa523 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@438a2d3]; rollback [true]
2020-05-10 22:25:13,833 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-10 22:25:14,209 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6d0a4a22 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@1999e1f5, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@b1fa523 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 22:25:14,231 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:27:00,568 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 22:27:00,595 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 22:27:01,402 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 22:27:01,582 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 151ms. Found 5 JPA repository interfaces.
2020-05-10 22:27:02,388 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 22:27:02,499 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 22:27:02,691 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 22:27:03,594 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 22:27:04,106 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 22:27:04,878 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 22:27:04,891 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:27:06,636 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 22:27:06,778 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 22:27:06,779 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 22:27:06,799 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 18 ms
2020-05-10 22:27:06,823 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@4850d66b testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@21f479cd, testMethod = getAllByDate@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@102fd71d testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@52b891de]; rollback [true]
2020-05-10 22:27:06,921 INFO  ru.restaurant.web.controller.VoteRestController.getByDate:48 - get votes by date 2020-04-01
2020-05-10 22:27:07,297 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@4850d66b testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@21f479cd, testMethod = getAllByDate@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@102fd71d testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 22:27:07,322 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:28:01,357 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 22:28:01,383 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 22:28:02,190 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 22:28:02,364 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 148ms. Found 5 JPA repository interfaces.
2020-05-10 22:28:03,037 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 22:28:03,135 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 22:28:03,330 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 22:28:04,119 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 22:28:04,573 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 22:28:05,396 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 22:28:05,409 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:28:07,143 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 22:28:07,282 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 22:28:07,282 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 22:28:07,303 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 20 ms
2020-05-10 22:28:07,328 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@fe38c0e testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@6167c42f, testMethod = getAllByDate@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2cbc2db2 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@64b8eb96]; rollback [true]
2020-05-10 22:28:07,415 INFO  ru.restaurant.web.controller.VoteRestController.getByDate:48 - get votes by date 2020-04-01
2020-05-10 22:28:07,802 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@fe38c0e testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@6167c42f, testMethod = getAllByDate@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2cbc2db2 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 22:28:07,829 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:58:57,541 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 22:58:57,584 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 22:58:58,470 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 22:58:58,634 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 127ms. Found 5 JPA repository interfaces.
2020-05-10 22:58:59,381 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 22:58:59,480 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 22:58:59,686 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 22:59:00,600 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 22:59:01,404 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 22:59:02,163 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 22:59:02,175 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 22:59:03,868 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 22:59:04,012 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 22:59:04,012 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 22:59:04,034 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 21 ms
2020-05-10 22:59:04,058 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@61e0f9b9 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@2c7c898a, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a86be01 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@56554365]; rollback [true]
2020-05-10 22:59:04,165 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:199 - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.time.LocalDate'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.time.LocalDate] for value '2020-04-01'; nested exception is java.lang.IllegalArgumentException: Parse attempt failed for value [2020-04-01]]
2020-05-10 22:59:04,178 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@61e0f9b9 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@2c7c898a, testMethod = getResults@VoteRestControllerTest, testException = java.lang.AssertionError: Status expected:<200> but was:<400>, mergedContextConfiguration = [WebMergedContextConfiguration@4a86be01 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 22:59:04,209 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:00:20,258 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 23:00:20,295 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 23:00:21,275 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 23:00:21,495 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 181ms. Found 5 JPA repository interfaces.
2020-05-10 23:00:22,344 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 23:00:22,488 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 23:00:22,712 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 23:00:23,541 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 23:00:24,093 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 23:00:24,791 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 23:00:24,805 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:00:26,638 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 23:00:26,785 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 23:00:26,786 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 23:00:26,812 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 25 ms
2020-05-10 23:00:26,839 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6296e4bf testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@220cda54, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@39109603 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@32f14274]; rollback [true]
2020-05-10 23:00:26,940 WARN  o.s.w.s.m.support.DefaultHandlerExceptionResolver.logException:199 - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.time.LocalDate'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@org.springframework.web.bind.annotation.RequestParam java.time.LocalDate] for value '2020-04-01'; nested exception is java.lang.IllegalArgumentException: Parse attempt failed for value [2020-04-01]]
2020-05-10 23:00:26,953 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6296e4bf testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@220cda54, testMethod = getResults@VoteRestControllerTest, testException = java.lang.AssertionError: Status expected:<200> but was:<400>, mergedContextConfiguration = [WebMergedContextConfiguration@39109603 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 23:00:26,980 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:02:46,225 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 23:02:46,257 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 23:02:47,108 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 23:02:47,264 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 135ms. Found 5 JPA repository interfaces.
2020-05-10 23:02:47,872 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 23:02:47,982 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 23:02:48,174 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 23:02:48,950 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 23:02:49,541 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 23:02:50,232 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 23:02:50,244 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:02:52,051 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 23:02:52,204 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 23:02:52,205 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 23:02:52,227 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 22 ms
2020-05-10 23:02:52,251 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@61e0f9b9 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@2c7c898a, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a86be01 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@56554365]; rollback [true]
2020-05-10 23:02:52,352 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-10 23:02:52,390 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@61e0f9b9 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@2c7c898a, testMethod = getResults@VoteRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: For queries with named parameters you need to use provide names for method parameters. Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.; nested exception is java.lang.IllegalStateException: For queries with named parameters you need to use provide names for method parameters. Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters., mergedContextConfiguration = [WebMergedContextConfiguration@4a86be01 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 23:02:52,423 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:04:17,428 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 23:04:17,463 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 23:04:18,370 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 23:04:18,533 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 144ms. Found 5 JPA repository interfaces.
2020-05-10 23:04:19,106 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 23:04:19,215 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 23:04:19,413 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 23:04:20,190 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 23:04:20,725 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 23:04:21,327 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 23:04:21,339 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:04:22,449 WARN  o.s.w.context.support.GenericWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'voteService' defined in file [C:\Java\WhatAboutTheDinner\target\classes\ru\restaurant\service\VoteService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'voteRepository': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Using named parameters for method public abstract java.util.List ru.restaurant.repository.VoteRepository.getResultByDate(java.time.LocalDate) but parameter 'Optional[date]' not found in annotated query 'SELECT new ru.restaurant.to.VoteTo(v.restaurant.name, COUNT(v)) FROM Vote v WHERE v.id=:id'!
2020-05-10 23:04:22,451 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:04:22,456 ERROR o.springframework.test.context.TestContextManager.prepareTestInstance:248 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b] to prepare test instance [ru.restaurant.web.controller.VoteRestControllerTest@5621a671]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:123)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:98)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassBasedTestDescriptor.java:341)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:346)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:341)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:340)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:263)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:256)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:255)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:29)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:108)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:107)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:71)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:107)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:107)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:75)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'voteService' defined in file [C:\Java\WhatAboutTheDinner\target\classes\ru\restaurant\service\VoteService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'voteRepository': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Using named parameters for method public abstract java.util.List ru.restaurant.repository.VoteRepository.getResultByDate(java.time.LocalDate) but parameter 'Optional[date]' not found in annotated query 'SELECT new ru.restaurant.to.VoteTo(v.restaurant.name, COUNT(v)) FROM Vote v WHERE v.id=:id'!
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:228)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:882)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(AbstractGenericWebContextLoader.java:129)
	at org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(AbstractGenericWebContextLoader.java:61)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:275)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:243)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 63 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'voteRepository': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Using named parameters for method public abstract java.util.List ru.restaurant.repository.VoteRepository.getResultByDate(java.time.LocalDate) but parameter 'Optional[date]' not found in annotated query 'SELECT new ru.restaurant.to.VoteTo(v.restaurant.name, COUNT(v)) FROM Vote v WHERE v.id=:id'!
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1290)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1210)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 81 common frames omitted
Caused by: java.lang.IllegalStateException: Using named parameters for method public abstract java.util.List ru.restaurant.repository.VoteRepository.getResultByDate(java.time.LocalDate) but parameter 'Optional[date]' not found in annotated query 'SELECT new ru.restaurant.to.VoteTo(v.restaurant.name, COUNT(v)) FROM Vote v WHERE v.id=:id'!
	at org.springframework.data.jpa.repository.query.JpaQueryMethod.assertParameterNamesInAnnotatedQuery(JpaQueryMethod.java:156)
	at org.springframework.data.jpa.repository.query.JpaQueryMethod.<init>(JpaQueryMethod.java:135)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:78)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lookupQuery(RepositoryFactorySupport.java:574)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(RepositoryFactorySupport.java:567)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1052)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.mapMethodsToQuery(RepositoryFactorySupport.java:569)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$0(RepositoryFactorySupport.java:559)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.<init>(RepositoryFactorySupport.java:559)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:332)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:212)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:121)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	... 92 common frames omitted
2020-05-10 23:05:43,151 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 23:05:43,176 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 23:05:44,032 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 23:05:44,182 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 131ms. Found 5 JPA repository interfaces.
2020-05-10 23:05:44,788 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 23:05:44,895 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 23:05:45,093 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 23:05:45,912 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 23:05:46,384 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 23:05:46,986 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 23:05:46,997 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:05:48,609 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 23:05:48,755 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 23:05:48,755 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 23:05:48,781 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 25 ms
2020-05-10 23:05:48,815 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@61e0f9b9 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@2c7c898a, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a86be01 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@56554365]; rollback [true]
2020-05-10 23:05:48,924 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-10 23:05:48,975 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@61e0f9b9 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@2c7c898a, testMethod = getResults@VoteRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: For queries with named parameters you need to use provide names for method parameters. Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters.; nested exception is java.lang.IllegalStateException: For queries with named parameters you need to use provide names for method parameters. Use @Param for query method parameters, or when on Java 8+ use the javac flag -parameters., mergedContextConfiguration = [WebMergedContextConfiguration@4a86be01 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 23:05:49,016 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:06:32,439 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 23:06:32,472 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 23:06:33,339 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 23:06:33,479 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 123ms. Found 5 JPA repository interfaces.
2020-05-10 23:06:34,184 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 23:06:34,307 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 23:06:34,494 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 23:06:35,249 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 23:06:35,713 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 23:06:36,358 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 23:06:36,371 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:06:37,577 WARN  o.s.w.context.support.GenericWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'voteService' defined in file [C:\Java\WhatAboutTheDinner\target\classes\ru\restaurant\service\VoteService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'voteRepository': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Using named parameters for method public abstract java.util.List ru.restaurant.repository.VoteRepository.getResultByDate(java.time.LocalDate) but parameter 'Optional[date]' not found in annotated query 'SELECT new ru.restaurant.to.VoteTo(v.restaurant.name, COUNT(v)) FROM Vote v WHERE v.id=:id GROUP BY v.restaurant.name'!
2020-05-10 23:06:37,579 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:06:37,588 ERROR o.springframework.test.context.TestContextManager.prepareTestInstance:248 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b] to prepare test instance [ru.restaurant.web.controller.VoteRestControllerTest@983050b]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:123)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:98)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$5(ClassBasedTestDescriptor.java:341)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:346)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:341)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:340)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:263)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:256)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:255)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:29)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:108)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:107)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:71)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:107)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:107)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:75)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)
	at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)
	at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'voteService' defined in file [C:\Java\WhatAboutTheDinner\target\classes\ru\restaurant\service\VoteService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'voteRepository': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Using named parameters for method public abstract java.util.List ru.restaurant.repository.VoteRepository.getResultByDate(java.time.LocalDate) but parameter 'Optional[date]' not found in annotated query 'SELECT new ru.restaurant.to.VoteTo(v.restaurant.name, COUNT(v)) FROM Vote v WHERE v.id=:id GROUP BY v.restaurant.name'!
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:228)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1358)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1204)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:882)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(AbstractGenericWebContextLoader.java:129)
	at org.springframework.test.context.web.AbstractGenericWebContextLoader.loadContext(AbstractGenericWebContextLoader.java:61)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:275)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:243)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 63 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'voteRepository': Invocation of init method failed; nested exception is java.lang.IllegalStateException: Using named parameters for method public abstract java.util.List ru.restaurant.repository.VoteRepository.getResultByDate(java.time.LocalDate) but parameter 'Optional[date]' not found in annotated query 'SELECT new ru.restaurant.to.VoteTo(v.restaurant.name, COUNT(v)) FROM Vote v WHERE v.id=:id GROUP BY v.restaurant.name'!
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1290)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1210)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 81 common frames omitted
Caused by: java.lang.IllegalStateException: Using named parameters for method public abstract java.util.List ru.restaurant.repository.VoteRepository.getResultByDate(java.time.LocalDate) but parameter 'Optional[date]' not found in annotated query 'SELECT new ru.restaurant.to.VoteTo(v.restaurant.name, COUNT(v)) FROM Vote v WHERE v.id=:id GROUP BY v.restaurant.name'!
	at org.springframework.data.jpa.repository.query.JpaQueryMethod.assertParameterNamesInAnnotatedQuery(JpaQueryMethod.java:156)
	at org.springframework.data.jpa.repository.query.JpaQueryMethod.<init>(JpaQueryMethod.java:135)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:78)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lookupQuery(RepositoryFactorySupport.java:574)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(RepositoryFactorySupport.java:567)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1052)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.mapMethodsToQuery(RepositoryFactorySupport.java:569)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$0(RepositoryFactorySupport.java:559)
	at java.base/java.util.Optional.map(Optional.java:265)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.<init>(RepositoryFactorySupport.java:559)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:332)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:212)
	at org.springframework.data.util.Lazy.get(Lazy.java:94)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:121)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)
	... 92 common frames omitted
2020-05-10 23:10:14,843 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 23:10:14,873 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 23:10:15,694 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 23:10:15,848 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 136ms. Found 5 JPA repository interfaces.
2020-05-10 23:10:16,663 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 23:10:16,813 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 23:10:17,052 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 23:10:17,842 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 23:10:18,328 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 23:10:19,135 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 23:10:19,147 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:10:20,825 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 23:10:20,976 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 23:10:20,977 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 23:10:21,000 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 22 ms
2020-05-10 23:10:21,025 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@61e0f9b9 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@2c7c898a, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a86be01 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@56554365]; rollback [true]
2020-05-10 23:10:21,134 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-10 23:10:21,188 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@61e0f9b9 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@2c7c898a, testMethod = getResults@VoteRestControllerTest, testException = org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: Named parameter not bound : id; nested exception is org.hibernate.QueryException: Named parameter not bound : id, mergedContextConfiguration = [WebMergedContextConfiguration@4a86be01 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 23:10:21,221 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:13:57,000 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 23:13:57,031 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 23:13:57,858 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 23:13:58,017 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 141ms. Found 5 JPA repository interfaces.
2020-05-10 23:13:58,735 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 23:13:58,848 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 23:13:59,051 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 23:13:59,823 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 23:14:00,440 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 23:14:01,155 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 23:14:01,167 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:14:02,858 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 23:14:03,008 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 23:14:03,008 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 23:14:03,030 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 21 ms
2020-05-10 23:14:03,055 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6296e4bf testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@220cda54, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@39109603 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@32f14274]; rollback [true]
2020-05-10 23:14:03,152 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-10 23:14:03,247 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6296e4bf testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@220cda54, testMethod = getResults@VoteRestControllerTest, testException = java.lang.AssertionError: Content type not set, mergedContextConfiguration = [WebMergedContextConfiguration@39109603 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 23:14:03,273 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:15:15,836 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 23:15:15,864 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 23:15:16,690 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 23:15:16,872 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 158ms. Found 5 JPA repository interfaces.
2020-05-10 23:15:17,676 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 23:15:17,774 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 23:15:17,973 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 23:15:18,750 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 23:15:19,235 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 23:15:19,901 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 23:15:19,913 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:15:21,608 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 23:15:21,786 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 23:15:21,787 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 23:15:21,812 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 24 ms
2020-05-10 23:15:21,837 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@61e0f9b9 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@2c7c898a, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4a86be01 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@56554365]; rollback [true]
2020-05-10 23:15:21,925 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-10 23:15:22,223 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@61e0f9b9 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@2c7c898a, testMethod = getResults@VoteRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read array from JSON:
'[{"restaurantName":"Lucky Pizza","votes":2}]', mergedContextConfiguration = [WebMergedContextConfiguration@4a86be01 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 23:15:22,262 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:16:51,187 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 23:16:51,215 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 23:16:52,149 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 23:16:52,300 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 129ms. Found 5 JPA repository interfaces.
2020-05-10 23:16:52,955 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 23:16:53,098 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 23:16:53,289 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 23:16:54,124 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 23:16:54,629 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 23:16:55,309 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 23:16:55,321 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:16:57,011 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 23:16:57,175 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 23:16:57,176 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 23:16:57,200 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 23 ms
2020-05-10 23:16:57,225 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6296e4bf testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@220cda54, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@39109603 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@32f14274]; rollback [true]
2020-05-10 23:16:57,324 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-10 23:16:57,603 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6296e4bf testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@220cda54, testMethod = getResults@VoteRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read array from JSON:
'[{"votes":2,"restaurant":"Lucky Pizza"}]', mergedContextConfiguration = [WebMergedContextConfiguration@39109603 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 23:16:57,636 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:21:26,262 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 23:21:26,289 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 23:21:27,069 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 23:21:27,236 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 139ms. Found 5 JPA repository interfaces.
2020-05-10 23:21:28,025 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 23:21:28,141 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 23:21:28,343 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 23:21:29,103 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 23:21:29,583 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 23:21:30,236 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 23:21:30,248 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:21:31,963 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 23:21:32,113 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 23:21:32,114 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 23:21:32,135 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 21 ms
2020-05-10 23:21:32,159 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6d946eee testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@23dc70c1, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53b907d9 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@44e4cf8a]; rollback [true]
2020-05-10 23:21:32,253 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-10 23:21:32,489 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6d946eee testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@23dc70c1, testMethod = getResults@VoteRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'[{"votes":2,"restaurant":"Lucky Pizza"}]', mergedContextConfiguration = [WebMergedContextConfiguration@53b907d9 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 23:21:32,524 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:22:37,066 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 23:22:37,096 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 23:22:37,934 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 23:22:38,109 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 146ms. Found 5 JPA repository interfaces.
2020-05-10 23:22:38,802 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 23:22:38,915 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 23:22:39,126 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 23:22:39,914 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 23:22:40,467 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 23:22:41,139 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 23:22:41,151 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:22:42,875 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 23:22:43,017 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 23:22:43,018 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 23:22:43,037 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 19 ms
2020-05-10 23:22:43,060 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@666b1244]; rollback [true]
2020-05-10 23:22:43,164 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-10 23:22:43,411 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'[{"restaurant":"Lucky Pizza","votes":2}]', mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 23:22:43,448 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:24:02,298 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 23:24:02,326 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 23:24:03,171 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 23:24:03,341 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 141ms. Found 5 JPA repository interfaces.
2020-05-10 23:24:04,271 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 23:24:04,393 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 23:24:04,590 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 23:24:05,381 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 23:24:05,905 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 23:24:06,500 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 23:24:06,512 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:24:08,204 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 23:24:08,356 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 23:24:08,357 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 23:24:08,380 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 23 ms
2020-05-10 23:24:08,404 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@666b1244]; rollback [true]
2020-05-10 23:24:08,494 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-10 23:24:08,710 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'[{"restaurantName":"Lucky Pizza","votes":2}]', mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 23:24:08,748 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:26:41,226 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-10 23:26:41,256 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-10 23:26:42,179 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-10 23:26:42,344 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 140ms. Found 5 JPA repository interfaces.
2020-05-10 23:26:43,230 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-10 23:26:43,332 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-10 23:26:43,522 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-10 23:26:44,279 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-10 23:26:44,747 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-10 23:26:45,404 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-10 23:26:45,418 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-10 23:26:47,100 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-10 23:26:47,252 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-10 23:26:47,252 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-10 23:26:47,272 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 19 ms
2020-05-10 23:26:47,295 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@39109603 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4d3990a5, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@18df26a1 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c86c486]; rollback [true]
2020-05-10 23:26:47,381 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-10 23:26:47,643 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@39109603 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4d3990a5, testMethod = getResults@VoteRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'[{"votes":2,"restaurant":"Lucky Pizza"}]', mergedContextConfiguration = [WebMergedContextConfiguration@18df26a1 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-10 23:26:47,679 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 09:38:22,206 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 09:38:22,232 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 09:38:23,087 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 09:38:23,298 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 187ms. Found 5 JPA repository interfaces.
2020-05-11 09:38:24,056 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 09:38:24,231 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 09:38:24,492 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 09:38:25,422 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 09:38:26,145 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 09:38:27,121 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 09:38:27,135 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 09:38:29,329 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 09:38:29,474 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 09:38:29,475 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 09:38:29,498 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 22 ms
2020-05-11 09:38:29,524 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@39109603 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4d3990a5, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@18df26a1 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c86c486]; rollback [true]
2020-05-11 09:38:29,626 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-11 09:38:29,873 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@39109603 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4d3990a5, testMethod = getResults@VoteRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'[{"restaurant":"Lucky Pizza","votes":2}]', mergedContextConfiguration = [WebMergedContextConfiguration@18df26a1 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 09:38:29,907 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 09:52:34,216 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 09:52:34,263 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@abf688e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@478ee483, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1a7288a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2974f221, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58fe0499, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@686449f9, org.springframework.test.context.event.EventPublishingTestExecutionListener@665df3c6]
2020-05-11 09:52:35,049 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 09:52:35,214 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 143ms. Found 5 JPA repository interfaces.
2020-05-11 09:52:35,836 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 09:52:35,948 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 09:52:36,175 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 09:52:37,135 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 09:52:37,775 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 09:52:38,646 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 09:52:38,663 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 09:52:40,696 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 09:52:40,868 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 09:52:40,869 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 09:52:40,894 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 24 ms
2020-05-11 09:52:40,922 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@77acc95a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@ff1a5a0, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@75c3584e testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5169db2f]; rollback [true]
2020-05-11 09:52:41,019 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-11 09:57:09,563 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@77acc95a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@ff1a5a0, testMethod = getResults@VoteRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'[{"restaurant":"Lucky Pizza","votes":2}]', mergedContextConfiguration = [WebMergedContextConfiguration@75c3584e testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 09:57:09,603 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 09:57:19,694 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 09:57:19,723 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 09:57:20,555 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 09:57:20,712 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 130ms. Found 5 JPA repository interfaces.
2020-05-11 09:57:21,345 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 09:57:21,456 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 09:57:21,718 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 09:57:22,674 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 09:57:23,206 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 09:57:23,887 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 09:57:23,898 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 09:57:25,545 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 09:57:25,688 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 09:57:25,689 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 09:57:25,710 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 20 ms
2020-05-11 09:57:25,731 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6d946eee testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@23dc70c1, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53b907d9 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@44e4cf8a]; rollback [true]
2020-05-11 09:57:25,849 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-11 09:57:26,208 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6d946eee testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@23dc70c1, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[ru.restaurant.to.VoteTo@4866a755]>
to be equal to:
 <[ru.restaurant.to.VoteTo@1361e880]>
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@53b907d9 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 09:57:26,232 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 09:59:38,323 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 09:59:38,355 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 09:59:39,205 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 09:59:39,350 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 127ms. Found 5 JPA repository interfaces.
2020-05-11 09:59:40,274 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 09:59:40,383 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 09:59:40,568 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 09:59:41,390 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 09:59:41,841 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 09:59:42,490 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 09:59:42,502 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 09:59:44,168 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 09:59:44,314 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 09:59:44,314 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 09:59:44,333 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 18 ms
2020-05-11 09:59:44,354 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6d946eee testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@23dc70c1, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53b907d9 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@44e4cf8a]; rollback [true]
2020-05-11 09:59:44,474 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-11 09:59:44,820 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6d946eee testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@23dc70c1, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[VoteTo:restaurant:Lucky Pizzavotes2] (ArrayList@3dad8bde)">
to be equal to:
 <"[VoteTo:restaurant:Lucky Pizzavotes2] (List12@301f9aa0)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@53b907d9 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 09:59:44,845 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:02:35,317 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 10:02:35,346 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 10:02:36,235 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 10:02:36,418 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 154ms. Found 5 JPA repository interfaces.
2020-05-11 10:02:37,345 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 10:02:37,509 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 10:02:37,773 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 10:02:38,566 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 10:02:39,014 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 10:02:39,683 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 10:02:39,695 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:02:41,419 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 10:02:41,548 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 10:02:41,549 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 10:02:41,568 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 19 ms
2020-05-11 10:02:41,588 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@18df26a1 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@5c459194, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@61d8a491 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3ea6faf0]; rollback [true]
2020-05-11 10:02:41,659 INFO  ru.restaurant.web.controller.MenuRestController.getOfferByDate:61 - get offer by date 2020-04-01
2020-05-11 10:02:42,028 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@18df26a1 testClass = MenuRestControllerTest, testInstance = ru.restaurant.web.controller.MenuRestControllerTest@5c459194, testMethod = getOfferByDate@MenuRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@61d8a491 testClass = MenuRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 10:02:42,046 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:04:27,535 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 10:04:27,566 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 10:04:28,373 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 10:04:28,542 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 129ms. Found 5 JPA repository interfaces.
2020-05-11 10:04:29,456 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 10:04:29,599 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 10:04:29,836 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 10:04:30,854 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 10:04:31,450 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 10:04:32,140 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 10:04:32,152 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:04:33,944 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 10:04:34,111 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 10:04:34,112 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 10:04:34,137 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 24 ms
2020-05-11 10:04:34,166 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@666b1244]; rollback [true]
2020-05-11 10:04:34,261 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-11 10:04:34,617 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[VoteTo:{restaurant:Lucky Pizzavotes:2}] (ArrayList@f833223)">
to be equal to:
 <"[VoteTo:{restaurant:Lucky Pizzavotes:2}] (List12@5186b78a)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 10:04:34,646 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:06:05,576 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 10:06:05,604 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 10:06:06,376 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 10:06:06,532 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 138ms. Found 5 JPA repository interfaces.
2020-05-11 10:06:07,303 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 10:06:07,423 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 10:06:07,621 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 10:06:08,513 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 10:06:08,985 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 10:06:09,658 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 10:06:09,670 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:06:11,351 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 10:06:11,498 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 10:06:11,499 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 10:06:11,521 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 21 ms
2020-05-11 10:06:11,545 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@220cda54 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@39109603, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4d3990a5 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7af56b26]; rollback [true]
2020-05-11 10:06:11,631 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-11 10:06:11,945 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@220cda54 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@39109603, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[VoteTo:{restaurant:Lucky Pizza, votes:2}]>
to be equal to:
 <[VoteTo:{restaurant:Lucky Pizza, votes:21}]>
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@4d3990a5 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 10:06:11,971 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:06:53,667 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 10:06:53,696 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 10:06:54,462 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 10:06:54,610 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 127ms. Found 5 JPA repository interfaces.
2020-05-11 10:06:55,289 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 10:06:55,423 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 10:06:55,652 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 10:06:56,486 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 10:06:57,008 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 10:06:57,774 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 10:06:57,789 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:06:59,549 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 10:06:59,685 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 10:06:59,685 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 10:06:59,705 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 19 ms
2020-05-11 10:06:59,727 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@39109603 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4d3990a5, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@18df26a1 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c86c486]; rollback [true]
2020-05-11 10:06:59,813 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-11 10:07:00,162 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@39109603 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4d3990a5, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (ArrayList@6b6606d1)">
to be equal to:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (List12@27605b87)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@18df26a1 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 10:07:00,191 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:08:32,514 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 10:08:32,546 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@abf688e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@478ee483, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1a7288a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2974f221, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58fe0499, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@686449f9, org.springframework.test.context.event.EventPublishingTestExecutionListener@665df3c6]
2020-05-11 10:08:33,401 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 10:08:33,600 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 180ms. Found 5 JPA repository interfaces.
2020-05-11 10:08:34,358 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 10:08:34,501 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 10:08:34,705 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 10:08:35,541 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 10:08:36,047 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 10:08:36,757 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 10:08:36,772 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:08:38,653 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 10:08:38,828 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 10:08:38,829 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 10:08:38,853 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 23 ms
2020-05-11 10:08:38,884 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@209b4b35 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@77acc95a, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@ff1a5a0 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@49654a35]; rollback [true]
2020-05-11 10:08:38,977 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:84 - Get result of voting
2020-05-11 10:11:14,622 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:12:00,064 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 10:12:00,099 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 10:12:01,340 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 10:12:01,531 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 151ms. Found 5 JPA repository interfaces.
2020-05-11 10:12:02,146 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 10:12:02,244 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 10:12:02,444 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 10:12:03,355 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 10:12:04,058 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 10:12:04,792 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 10:12:04,805 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:12:06,498 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 10:12:06,643 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 10:12:06,643 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 10:12:06,663 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 19 ms
2020-05-11 10:12:06,684 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@666b1244]; rollback [true]
2020-05-11 10:12:06,780 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 10:12:07,152 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (ArrayList@5186b78a)">
to be equal to:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (List12@3f6a9ba0)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 10:12:07,182 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:12:58,271 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 10:12:58,298 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 10:12:59,145 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 10:12:59,319 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 145ms. Found 5 JPA repository interfaces.
2020-05-11 10:12:59,852 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 10:12:59,951 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 10:13:00,167 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 10:13:01,129 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 10:13:01,642 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 10:13:02,402 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 10:13:02,414 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:13:04,125 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 10:13:04,276 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 10:13:04,277 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 10:13:04,299 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 21 ms
2020-05-11 10:13:04,323 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6d946eee testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@23dc70c1, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53b907d9 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@44e4cf8a]; rollback [true]
2020-05-11 10:13:04,410 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 10:13:04,744 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6d946eee testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@23dc70c1, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (ArrayList@7f2542f)">
to be equal to:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (List12@3dad8bde)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@53b907d9 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 10:13:04,770 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:30:45,511 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 10:30:45,541 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 10:30:46,389 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 10:30:46,560 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 138ms. Found 5 JPA repository interfaces.
2020-05-11 10:30:47,219 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 10:30:47,354 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 10:30:47,612 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 10:30:48,384 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 10:30:48,845 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 10:30:49,509 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 10:30:49,521 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:30:51,203 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 10:30:51,350 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 10:30:51,351 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 10:30:51,371 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 20 ms
2020-05-11 10:30:51,392 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6d946eee testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@23dc70c1, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53b907d9 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@44e4cf8a]; rollback [true]
2020-05-11 10:30:51,482 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 10:30:51,688 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6d946eee testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@23dc70c1, testMethod = getResults@VoteRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'[{"restaurant":"Lucky Pizza","votes":2}]', mergedContextConfiguration = [WebMergedContextConfiguration@53b907d9 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 10:30:51,722 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:34:32,047 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 10:34:32,079 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 10:34:32,887 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 10:34:33,040 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 135ms. Found 5 JPA repository interfaces.
2020-05-11 10:34:33,663 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 10:34:33,792 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 10:34:34,036 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 10:34:34,987 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 10:34:35,470 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 10:34:36,238 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 10:34:36,250 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:34:38,188 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 10:34:38,394 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 10:34:38,395 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 10:34:38,446 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 49 ms
2020-05-11 10:34:38,527 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@39109603 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4d3990a5, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@18df26a1 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c86c486]; rollback [true]
2020-05-11 10:34:38,705 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 10:34:39,186 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@39109603 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4d3990a5, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (ArrayList@27605b87)">
to be equal to:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (SingletonList@1fc4483f)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@18df26a1 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 10:34:39,261 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:34:51,679 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 10:34:51,707 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 10:34:52,570 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 10:34:52,733 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 140ms. Found 5 JPA repository interfaces.
2020-05-11 10:34:53,425 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 10:34:53,530 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 10:34:53,717 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 10:34:54,684 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 10:34:55,257 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 10:34:55,917 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 10:34:55,929 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:34:57,493 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 10:34:57,635 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 10:34:57,636 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 10:34:57,656 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 19 ms
2020-05-11 10:34:57,683 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@666b1244]; rollback [true]
2020-05-11 10:34:57,794 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 10:34:58,124 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (ArrayList@5186b78a)">
to be equal to:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (SingletonList@3f6a9ba0)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 10:34:58,148 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:35:22,431 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 10:35:22,461 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 10:35:23,303 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 10:35:23,467 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 137ms. Found 5 JPA repository interfaces.
2020-05-11 10:35:24,267 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 10:35:24,375 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 10:35:24,569 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 10:35:25,489 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 10:35:26,003 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 10:35:26,602 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 10:35:26,614 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:35:28,381 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 10:35:28,528 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 10:35:28,529 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 10:35:28,549 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 20 ms
2020-05-11 10:35:28,569 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@666b1244]; rollback [true]
2020-05-11 10:35:28,645 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 10:35:28,929 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (ArrayList@5186b78a)">
to be equal to:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (ArrayList@3f6a9ba0)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 10:35:28,957 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:49:45,250 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 10:49:45,285 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 10:49:46,155 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 10:49:46,339 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 158ms. Found 5 JPA repository interfaces.
2020-05-11 10:49:46,907 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 10:49:47,016 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 10:49:47,241 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 10:49:48,172 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 10:49:48,594 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 10:49:49,289 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 10:49:49,303 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:49:51,134 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 10:49:51,287 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 10:49:51,288 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 10:49:51,308 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 20 ms
2020-05-11 10:49:51,329 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@220cda54 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@39109603, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4d3990a5 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7af56b26]; rollback [true]
2020-05-11 10:49:51,416 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 10:49:51,642 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@220cda54 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@39109603, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: expected: ru.restaurant.to.VoteTo@48697181<VoteTo:{restaurant:Lucky Pizza, votes:2}> but was: ru.restaurant.to.VoteTo@7282f7b1<VoteTo:{restaurant:Lucky Pizza, votes:2}>, mergedContextConfiguration = [WebMergedContextConfiguration@4d3990a5 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 10:49:51,671 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:53:18,938 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 10:53:18,971 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 10:53:19,788 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 10:53:19,976 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 145ms. Found 5 JPA repository interfaces.
2020-05-11 10:53:20,657 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 10:53:20,757 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 10:53:20,958 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 10:53:21,682 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 10:53:22,111 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 10:53:22,736 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 10:53:22,748 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:53:24,402 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 10:53:24,569 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 10:53:24,570 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 10:53:24,595 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 24 ms
2020-05-11 10:53:24,619 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@666b1244]; rollback [true]
2020-05-11 10:53:24,706 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 10:53:25,046 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (ArrayList@3f6a9ba0)">
to be equal to:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (ArrayList@1e749235)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 10:53:25,075 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:54:07,995 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 10:54:08,029 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 10:54:08,810 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 10:54:08,990 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 154ms. Found 5 JPA repository interfaces.
2020-05-11 10:54:09,633 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 10:54:09,739 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 10:54:09,966 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 10:54:10,762 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 10:54:11,427 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 10:54:12,084 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 10:54:12,096 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:54:13,820 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 10:54:13,976 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 10:54:13,977 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 10:54:14,003 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 25 ms
2020-05-11 10:54:14,028 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@666b1244]; rollback [true]
2020-05-11 10:54:14,130 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 10:54:14,381 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 10:54:14,406 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:58:43,957 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 10:58:43,996 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 10:58:44,844 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 10:58:44,983 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 120ms. Found 5 JPA repository interfaces.
2020-05-11 10:58:45,754 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 10:58:45,856 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 10:58:46,046 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 10:58:46,869 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 10:58:47,390 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 10:58:48,119 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 10:58:48,132 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:58:49,765 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 10:58:49,919 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 10:58:49,920 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 10:58:49,944 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 24 ms
2020-05-11 10:58:49,970 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@666b1244]; rollback [true]
2020-05-11 10:58:50,062 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 10:58:50,341 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[VoteTo:{restaurant:Lucky Pizza, votes:2}]>
to be equal to:
 <[]>
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 10:58:50,368 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:59:17,931 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 10:59:17,962 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 10:59:18,855 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 10:59:19,014 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 133ms. Found 5 JPA repository interfaces.
2020-05-11 10:59:19,695 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 10:59:19,817 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 10:59:20,012 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 10:59:20,757 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 10:59:21,311 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 10:59:21,949 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 10:59:21,961 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 10:59:23,660 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 10:59:23,799 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 10:59:23,799 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 10:59:23,820 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 19 ms
2020-05-11 10:59:23,848 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getAllByDate@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@666b1244]; rollback [true]
2020-05-11 10:59:23,945 INFO  ru.restaurant.web.controller.VoteRestController.getByDate:52 - get votes by date 2020-04-01
2020-05-11 10:59:24,297 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getAllByDate@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 10:59:24,319 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:03:31,389 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 11:03:31,418 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 11:03:32,319 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 11:03:32,502 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 165ms. Found 5 JPA repository interfaces.
2020-05-11 11:03:33,421 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 11:03:33,523 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 11:03:33,713 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 11:03:34,521 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 11:03:35,092 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 11:03:35,751 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 11:03:35,764 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:03:37,443 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 11:03:37,584 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 11:03:37,584 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 11:03:37,605 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 20 ms
2020-05-11 11:03:37,629 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getAllByDate@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@666b1244]; rollback [true]
2020-05-11 11:03:37,715 INFO  ru.restaurant.web.controller.VoteRestController.getByDate:52 - get votes by date 2020-04-01
2020-05-11 11:03:38,029 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getAllByDate@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 11:03:38,050 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:04:39,138 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 11:04:39,172 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 11:04:39,948 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 11:04:40,113 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 145ms. Found 5 JPA repository interfaces.
2020-05-11 11:04:40,806 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 11:04:40,918 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 11:04:41,125 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 11:04:41,916 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 11:04:42,463 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 11:04:43,343 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 11:04:43,359 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:04:45,031 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 11:04:45,159 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 11:04:45,160 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 11:04:45,181 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 20 ms
2020-05-11 11:04:45,206 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6d946eee testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@23dc70c1, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53b907d9 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@44e4cf8a]; rollback [true]
2020-05-11 11:04:45,290 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 11:04:45,614 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6d946eee testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@23dc70c1, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <[VoteTo:{restaurant:Lucky Pizza, votes:2}]>
to be equal to:
 <[]>
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@53b907d9 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 11:04:45,641 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:05:51,764 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 11:05:51,808 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@abf688e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@478ee483, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@1a7288a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2974f221, org.springframework.test.context.transaction.TransactionalTestExecutionListener@58fe0499, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@686449f9, org.springframework.test.context.event.EventPublishingTestExecutionListener@665df3c6]
2020-05-11 11:05:52,680 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 11:05:52,858 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 157ms. Found 5 JPA repository interfaces.
2020-05-11 11:05:53,612 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 11:05:53,734 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 11:05:53,976 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 11:05:54,938 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 11:05:55,664 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 11:05:56,425 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 11:05:56,438 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:05:58,477 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 11:05:58,635 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 11:05:58,635 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 11:05:58,662 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 26 ms
2020-05-11 11:05:58,692 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@209b4b35 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@77acc95a, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@ff1a5a0 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@49654a35]; rollback [true]
2020-05-11 11:05:58,819 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 11:05:59,043 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:06:28,397 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 11:06:28,426 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 11:06:29,311 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 11:06:29,461 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 128ms. Found 5 JPA repository interfaces.
2020-05-11 11:06:30,106 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 11:06:30,206 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 11:06:30,401 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 11:06:31,222 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 11:06:31,702 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 11:06:32,353 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 11:06:32,365 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:06:34,030 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 11:06:34,163 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 11:06:34,163 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 11:06:34,182 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 18 ms
2020-05-11 11:06:34,201 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@666b1244]; rollback [true]
2020-05-11 11:06:34,283 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 11:06:34,565 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (ArrayList@870a9f2)">
to be equal to:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (ArrayList@6c2e7591)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 11:06:34,591 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:08:19,069 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 11:08:19,099 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 11:08:19,971 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 11:08:20,142 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 141ms. Found 5 JPA repository interfaces.
2020-05-11 11:08:20,741 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 11:08:20,854 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 11:08:21,042 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 11:08:22,015 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 11:08:22,513 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 11:08:23,145 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 11:08:23,157 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:08:24,899 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 11:08:25,061 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 11:08:25,062 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 11:08:25,081 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 19 ms
2020-05-11 11:08:25,103 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@39109603 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4d3990a5, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@18df26a1 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c86c486]; rollback [true]
2020-05-11 11:08:25,192 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 11:08:25,512 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@39109603 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4d3990a5, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (ArrayList@5adc71e7)">
to be equal to:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (ArrayList@7fc5a558)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@18df26a1 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 11:08:25,543 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:09:37,989 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 11:09:38,030 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 11:09:38,857 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 11:09:39,025 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 144ms. Found 5 JPA repository interfaces.
2020-05-11 11:09:39,692 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 11:09:39,811 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 11:09:40,014 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 11:09:40,775 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 11:09:41,279 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 11:09:41,942 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 11:09:41,954 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:09:43,724 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 11:09:43,884 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 11:09:43,885 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 11:09:43,907 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 22 ms
2020-05-11 11:09:43,930 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@666b1244]; rollback [true]
2020-05-11 11:09:44,030 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 11:09:44,299 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'[{"restaurant":"Lucky Pizza","votes":2}]', mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 11:09:44,331 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:10:34,534 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 11:10:34,567 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 11:10:35,398 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 11:10:35,566 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 138ms. Found 5 JPA repository interfaces.
2020-05-11 11:10:36,269 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 11:10:36,415 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 11:10:36,656 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 11:10:37,411 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 11:10:37,948 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 11:10:38,599 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 11:10:38,612 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:10:40,270 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 11:10:40,412 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 11:10:40,413 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 11:10:40,436 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 22 ms
2020-05-11 11:10:40,465 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6d946eee testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@23dc70c1, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53b907d9 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@44e4cf8a]; rollback [true]
2020-05-11 11:10:40,563 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 11:10:40,867 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6d946eee testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@23dc70c1, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (ArrayList@7f2542f)">
to be equal to:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (List12@3dad8bde)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@53b907d9 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 11:10:40,896 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:11:40,741 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 11:11:40,772 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 11:11:41,580 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 11:11:41,759 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 152ms. Found 5 JPA repository interfaces.
2020-05-11 11:11:42,431 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 11:11:42,533 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 11:11:42,748 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 11:11:43,603 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 11:11:44,178 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 11:11:44,794 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 11:11:44,806 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:11:46,424 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 11:11:46,559 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 11:11:46,560 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 11:11:46,580 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 20 ms
2020-05-11 11:11:46,602 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@220cda54 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@39109603, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4d3990a5 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7af56b26]; rollback [true]
2020-05-11 11:11:46,688 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 11:11:46,993 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@220cda54 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@39109603, testMethod = getResults@VoteRestControllerTest, testException = org.opentest4j.AssertionFailedError: 
Expecting:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (ArrayList@1d7af82)">
to be equal to:
 <"[VoteTo:{restaurant:Lucky Pizza, votes:2}] (ArrayList@5adc71e7)">
but was not., mergedContextConfiguration = [WebMergedContextConfiguration@4d3990a5 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 11:11:47,022 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:13:29,909 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 11:13:29,942 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 11:13:30,913 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 11:13:31,121 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 179ms. Found 5 JPA repository interfaces.
2020-05-11 11:13:31,940 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 11:13:32,106 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 11:13:32,308 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 11:13:33,085 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 11:13:33,667 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 11:13:34,353 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 11:13:34,365 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:13:36,036 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 11:13:36,182 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 11:13:36,183 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 11:13:36,204 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 20 ms
2020-05-11 11:13:36,224 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@6d946eee testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@23dc70c1, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53b907d9 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@44e4cf8a]; rollback [true]
2020-05-11 11:13:36,308 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 11:13:36,621 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@6d946eee testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@23dc70c1, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@53b907d9 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 11:13:36,642 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:14:16,851 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 11:14:16,884 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 11:14:17,687 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 11:14:17,851 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 140ms. Found 5 JPA repository interfaces.
2020-05-11 11:14:18,542 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 11:14:18,673 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 11:14:18,927 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 11:14:19,894 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 11:14:20,354 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 11:14:20,998 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 11:14:21,011 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:14:22,677 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 11:14:22,819 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 11:14:22,820 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 11:14:22,844 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 23 ms
2020-05-11 11:14:22,868 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@666b1244]; rollback [true]
2020-05-11 11:14:22,961 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 11:14:23,229 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = java.lang.IllegalArgumentException: Invalid read from JSON:
'[{"restaurant":"Lucky Pizza","votes":2}]', mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 11:14:23,260 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:14:53,785 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 11:14:53,813 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 11:14:54,697 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 11:14:54,886 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 154ms. Found 5 JPA repository interfaces.
2020-05-11 11:14:55,870 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 11:14:55,979 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 11:14:56,173 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 11:14:56,930 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 11:14:57,492 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 11:14:58,268 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 11:14:58,280 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:15:00,021 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 11:15:00,197 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 11:15:00,198 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 11:15:00,223 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 24 ms
2020-05-11 11:15:00,248 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@39109603 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4d3990a5, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@18df26a1 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c86c486]; rollback [true]
2020-05-11 11:15:00,335 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 11:15:00,634 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@39109603 testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4d3990a5, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@18df26a1 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 11:15:00,659 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:22:57,962 INFO  o.s.test.context.web.WebTestContextBootstrapper.getDefaultTestExecutionListenerClassNames:248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2020-05-11 11:22:57,994 INFO  o.s.test.context.web.WebTestContextBootstrapper.getTestExecutionListeners:177 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3b00856b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3016fd5e, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@35d08e6c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@53d102a2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c45ee6e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b3e12b5, org.springframework.test.context.event.EventPublishingTestExecutionListener@5aac4250]
2020-05-11 11:22:58,901 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:127 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2020-05-11 11:22:59,093 INFO  o.s.d.r.config.RepositoryConfigurationDelegate.registerRepositoriesIn:187 - Finished Spring Data repository scanning in 164ms. Found 5 JPA repository interfaces.
2020-05-11 11:22:59,869 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2020-05-11 11:23:00,036 INFO  org.hibernate.Version.logVersion:44 - HHH000412: Hibernate ORM core version 5.4.14.Final
2020-05-11 11:23:00,288 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2020-05-11 11:23:01,252 INFO  org.hibernate.dialect.Dialect.<init>:172 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2020-05-11 11:23:01,722 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.1.4.Final
2020-05-11 11:23:02,346 INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator.initiateService:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2020-05-11 11:23:02,359 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:416 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2020-05-11 11:23:04,026 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:297 - ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2020-05-11 11:23:04,191 INFO  org.springframework.mock.web.MockServletContext.log:455 - Initializing Spring TestDispatcherServlet ''
2020-05-11 11:23:04,192 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:525 - Initializing Servlet ''
2020-05-11 11:23:04,213 INFO  o.s.test.web.servlet.TestDispatcherServlet.initServletBean:547 - Completed initialization in 20 ms
2020-05-11 11:23:04,235 INFO  o.s.test.context.transaction.TransactionContext.startTransaction:107 - Began transaction (1) for test context [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@666b1244]; rollback [true]
2020-05-11 11:23:04,318 INFO  ru.restaurant.web.controller.VoteRestController.getVoteResults:86 - Get result of voting
2020-05-11 11:23:04,609 INFO  o.s.test.context.transaction.TransactionContext.endTransaction:139 - Rolled back transaction for test: [DefaultTestContext@2c7c898a testClass = VoteRestControllerTest, testInstance = ru.restaurant.web.controller.VoteRestControllerTest@4a86be01, testMethod = getResults@VoteRestControllerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3cae4518 testClass = VoteRestControllerTest, locations = '{classpath:spring/spring-app.xml, classpath:spring/spring-mvc.xml, classpath:spring/spring-db.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.test.context.web.WebDelegatingSmartContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.populatedRequestContextHolder' -> true, 'org.springframework.test.context.web.ServletTestExecutionListener.resetRequestContextHolder' -> true]]
2020-05-11 11:23:04,632 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:598 - Closing JPA EntityManagerFactory for persistence unit 'default'
